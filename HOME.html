<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOME GPT</title>
    
    <style>
        /* (ìŠ¤íƒ€ì¼ ì‹œíŠ¸ ë¶€ë¶„ì€ ì›ë³¸ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€) */
        body { font-family: 'Malgun Gothic', 'Dotum', Arial, sans-serif; margin: 0; padding: 0; background-color: #f6f6f6; color: #333; }
        a { text-decoration: none; color: inherit; }
        .container { max-width: 1210px; margin: 0 auto; padding: 0 10px; }
        header { width: 100%; background-color: #fff; border-bottom: 1px solid #ddd; padding: 10px 0; text-align: center; }
        .logo { font-size: 28px; font-weight: bold; color: #000; }
        nav { background-color: #f9f9f9; border-bottom: 2px solid #333; margin-bottom: 20px; }
        .nav-list { list-style: none; padding: 0; margin: 0; display: flex; justify-content: flex-start; }
        .nav-list li { padding: 10px 15px; font-weight: bold; border-right: 1px solid #eee; }
        .nav-list li:first-child { color: #c00; }
        .content-wrap { display: flex; gap: 20px; margin-bottom: 30px; }
        .main-content { flex: 3; min-width: 0; }
        .sidebar { flex: 1; min-width: 280px; background-color: #fff; padding: 20px; box-sizing: border-box; border-radius: 5px; }
        
        .ad-slot {
            position: relative; 
            text-align: center;
            color: #fff;
            display: block;
            margin: 0 auto;
            font-size: 14px;
            font-weight: bold;
            box-sizing: border-box;
            border: none; 
            padding: 10px 0 0 0;  /* ìƒë‹¨ ì—¬ë°± 10px (ë¼ë²¨ ê³µê°„ í™•ë³´) */
            min-height: 1px; 
            background-color: transparent; 
            width: 100%;
            max-width: 1210px;
            transition: background-color 0.3s ease;
            line-height: 1.5;
            overflow: visible;
        }
        .gam-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-grow: 1;
            min-height: 1px;
        }
        
        #TC_billboard_leaderboard, #MC_billboard_rectangle, #MR_halfpage_rectangle { 
            background-color: transparent !important; 
            border: none !important; 
        }

        .ad-loaded { background-color: #c00 !important; color: #fff; }
        
        .mk-ad-label {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            padding: 0;
            background-color: transparent;
            border: none;
            color: #5A5A5A;
            font-size: 13px;         /* View GPTì™€ í†µì¼: 13px */
            font-weight: normal;     /* ë³¼ë“œ í•´ì œ */
            text-transform: uppercase;
            line-height: 1;
            white-space: nowrap;
        }
        
        @media (prefers-color-scheme: dark) {
            body { background-color: #1a1a1a; color: #e0e0e0; }
            header { background-color: #1a1a1a; border-bottom-color: #444; }
            .logo { color: #fff; } /* Dark Mode íƒ€ì´í‹€ ìƒ‰ìƒ ëŒ€ì‘ */
            nav { background-color: #1a1a1a; border-bottom: 2px solid #666; }
            .sidebar { background-color: #1a1a1a; border-color: #444; }
            .sidebar-item { background-color: #1a1a1a; border-color: #444; }
            .mk-ad-label {
                background-color: transparent;
                color: #A0A0A0;
                border: none;
            }
        }
        @media (max-width: 1024px) {
            .content-wrap { flex-direction: column; }
        }
    </style>
    
    <script async src='https://www.googletagservices.com/tag/js/gpt.js'></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];

        const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'true' : 'false';

        // â–¼â–¼â–¼ AdUnitPath ë³€ìˆ˜ ì •ì˜ â–¼â–¼â–¼
        const AdUnitPath = '/7450/www.mk.co.kr/HOME';

        // ğŸ’¡ ìŠ¬ë¡¯ ê°ì²´ ì €ì¥ (View / Sectionê³¼ ë™ì¼ íŒ¨í„´: div_id + "_slot")
        let TC_billboard_leaderboard_slot = null;
        let MC_billboard_rectangle_slot   = null;
        let MR_halfpage_rectangle_slot    = null;

        // ***************************************************
        // âœ… ê´‘ê³  ë Œë”ë§ ì™„ë£Œ ì‹œ 'Advertisement' ë¼ë²¨ì„ ì‚½ì…í•˜ëŠ” í•¨ìˆ˜ (ì „ì—­ 1íšŒ ì •ì˜)
        function addAdLabel(event) {
            const slotId = event.slot.getSlotElementId();
            const slotElement = document.getElementById(slotId); 
            
            if (event.isEmpty === false && slotElement) {
                const outerSlot = slotElement.closest('.ad-slot'); 
                if (!outerSlot) return;

                // ì´ë¯¸ ë¼ë²¨ì´ ìˆìœ¼ë©´ ì¤‘ë³µ ì‚½ì… ë°©ì§€
                if (outerSlot.querySelector('.mk-ad-label')) return; 

                const labelElement = document.createElement('div');
                labelElement.className = 'mk-ad-label';
                labelElement.textContent = 'Advertisement';
                
                outerSlot.insertBefore(labelElement, outerSlot.firstChild);

                // ë°°ê²½/ë³´ë”ëŠ” íˆ¬ëª… ì²˜ë¦¬ ìœ ì§€
                outerSlot.style.border = 'none'; 
                outerSlot.style.backgroundColor = 'transparent';

                console.log(`âœ… [Ad Label] Label added for ${slotId}`);
            }
        }
        // ***************************************************

        googletag.cmd.push(function() {
            
            // --- [1] í˜ì´ì§€ ë ˆë²¨ íƒ€ê²ŒíŒ…: GPT ë²„ì „, ë””ë°”ì´ìŠ¤, í™˜ê²½ ì •ë³´ ---
            
            const userAgent = navigator.userAgent.toLowerCase();
            let deviceCategory = 'desktop';
            if (/mobile|android|iphone|ipad|ipod/.test(userAgent) || window.innerWidth <= 768) {
                deviceCategory = 'mobile';
            } else if (window.innerWidth <= 1024) {
                deviceCategory = 'tablet';
            }
            googletag.pubads().setTargeting('device_category', deviceCategory);
            
            googletag.pubads().setTargeting('domain', window.location.hostname);
            googletag.pubads().setTargeting('url', window.location.href);
            googletag.pubads().setTargeting('referer', document.referrer);
            googletag.pubads().setTargeting('is_dark_mode', isDarkMode);
            googletag.pubads().setTargeting('gpt_version', '2025'); 

            // --- [2] CMS ì •ë³´ ì£¼ì…ì´ í•„ìš”í•œ í‚¤-ê°’ ì„¤ì • ---
            googletag.pubads().setTargeting('web_type', 'responsive');
            googletag.pubads().setTargeting('page_type', 'HOME');
            googletag.pubads().setTargeting('section_home_nm', 'MK');
            
            // â–¼â–¼â–¼ ë™ì  ì…ë ¥ í‚¤-ê°’ â–¼â–¼â–¼
            googletag.pubads().setTargeting('section_front_nm', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('section_list_nm', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('SOURCE_ID', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('source_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('MIDDLE_CODE_ENG_NM', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('CODE_ID', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('article_num', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('title', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('title_slug', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('url_slug', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('publish_date', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('journalist', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('keywords', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('ticker_name', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('has_video', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('is_app_viewer', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('login_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('login_status', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('membership_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('brandsensitive', 'ë™ì ì…ë ¥');
            // â–²â–²â–² ë™ì  ì…ë ¥ í‚¤-ê°’ â–²â–²â–²

            // --- [3] GPT í•µì‹¬ ê¸°ëŠ¥ ì„¤ì • ---
            googletag.pubads().enableSingleRequest();
            googletag.pubads().collapseEmptyDivs(true);
            googletag.pubads().setCentering(true);
            googletag.pubads().setPublisherProvidedId('PPID_DYNAMIC_HASHED_ID (SERVER_HASHED_ID)');
            
            // ğŸ›‘ ì „ì—­ ì´ˆê¸° ë¡œë“œ ë¹„í™œì„±í™” (ìš”ì²­ì‚¬í•­)
            googletag.pubads().disableInitialLoad(); 

            // âœ… GAM ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (ë¼ë²¨)
            googletag.pubads().addEventListener('slotRenderEnded', addAdLabel);

            // --- [4] Size Mapping ì •ì˜ (2ê°œë¡œ ë¶„ë¦¬ ì ìš©) ---
            
            // 0-1. ê°€ë¡œí˜• ë°°ë„ˆìš© ì‚¬ì´ì¦ˆ ë§¤í•‘ (TC, MC)
            const sizeMapping_horizontal = googletag.sizeMapping()
                .addSize([1024, 0], [[1200, 300], [1200, 100], [970, 250], [980, 120], [970, 90], [930, 180], [728, 90], [2, 1], [1, 1], 'fluid'])
                .addSize([768, 0], [[750, 300], [750, 200], [728, 90], [480, 320], [336, 280], [300, 250], [2, 1], [1, 1], 'fluid'])
                .addSize([0, 0], [[336, 280], [300, 250], [320, 480], [320, 100], [2, 1], [1, 1], 'fluid'])
                .build();

            // 0-2. ë°•ìŠ¤í˜• ë°°ë„ˆìš© ì‚¬ì´ì¦ˆ ë§¤í•‘ (MR)
            const sizeMapping_square = googletag.sizeMapping()
                .addSize([1024, 0], [[300, 600], [336, 280], [2, 1], [1, 1], 'fluid'])
                .addSize([768, 0], [[336, 280], [300, 250], [2, 1], [1, 1], 'fluid'])
                .addSize([0, 0], [[336, 280], [300, 250], [320, 480], [320, 100], [2, 1], [1, 1], 'fluid'])
                .build();
            // ----------------------------------------------------
            
            // 2. ê´‘ê³  ìŠ¬ë¡¯ ì •ì˜ (Method Chaining ë° ë¶„ë¦¬ëœ ë§¤í•‘ ì ìš©)
            
            // TC_billboard_leaderboard (Eager Load) - sizeMapping_horizontal ì ìš©
            TC_billboard_leaderboard_slot = googletag.defineSlot(
                AdUnitPath,
                [[1200, 300], [970, 250], [728, 90], [320, 100], [1, 1], 'fluid'],
                'TC_billboard_leaderboard'
            )
                .defineSizeMapping(sizeMapping_horizontal) 
                .setTargeting('div_id', 'TC_billboard_leaderboard')
                .setTargeting('load_type', 'eager')
                .setTargeting('position', 'TC')
                .setTargeting('ad_area_type', 'ATF') 
                .setTargeting('default_exposure', 'hidden') 
                .addService(googletag.pubads());

            // MC_billboard_rectangle (Lazy Load) - sizeMapping_horizontal ì ìš©
            MC_billboard_rectangle_slot = googletag.defineSlot(
                AdUnitPath,
                [[1200, 300], [970, 250], [750, 300], [336, 280], [1, 1], 'fluid'],
                'MC_billboard_rectangle'
            )
                .defineSizeMapping(sizeMapping_horizontal) 
                .setTargeting('div_id', 'MC_billboard_rectangle')
                .setTargeting('load_type', 'lazy')
                .setTargeting('position', 'MC')
                .setTargeting('ad_area_type', '')
                .setTargeting('default_exposure', '') 
                .addService(googletag.pubads());

            // MR_halfpage_rectangle (Lazy Load) - sizeMapping_square ì ìš©
            MR_halfpage_rectangle_slot = googletag.defineSlot(
                AdUnitPath,
                [[300, 600], [336, 280], [1, 1], 'fluid'],
                'MR_halfpage_rectangle'
            )
                .defineSizeMapping(sizeMapping_square) 
                .setTargeting('div_id', 'MR_halfpage_rectangle')
                .setTargeting('load_type', 'lazy')
                .setTargeting('position', 'MR')
                .setTargeting('ad_area_type', '')
                .setTargeting('default_exposure', '')                
                .addService(googletag.pubads());
            
            googletag.enableServices();

            // ğŸŸ¢ Eager Loadìš© TCëŠ” BODY ìª½ì—ì„œ display + refresh í˜¸ì¶œ
            console.log('â–¶ï¸ [GPT INIT] Services enabled. TC_billboard_leaderboard will be displayed via body script.');
        });
    </script>
</head>
<body>

    <header>
        <div class="container">
            <div class="logo">HOME GPT</div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-list">
                <li>HOME</li>
                <li>ë‰´ìŠ¤ì¢…í•©</li>
                <li>ë¶€ë™ì‚°</li>
                <li>ì¦ê¶Œ</li>
                <li>ì˜¤í”¼ë‹ˆì–¸</li>
                <li>ìŠ¤í¬ì¸ </li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        
        <div id="TC_billboard_leaderboard" class="ad-slot ad-1 gam-container">
            <div class="gam-container">
                <script>
                    // BODYì—ì„œ Eager Load: display + refresh
                    googletag.cmd.push(function() { 
                        googletag.display('TC_billboard_leaderboard');
                        googletag.pubads().refresh([TC_billboard_leaderboard_slot]);
                        console.log("â–¶ï¸ [Immediate Load] Ad ID: TC_billboard_leaderboard | DISPLAY + REFRESH called on page load.");
                    });
                </script>
            </div>
        </div>

        <div class="content-wrap">
            <div class="main-content">
                <section class="highlight-news">
                    <h2>ğŸ”¥ Main Contents: Highlight News</h2>
                    <p style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">**ç¾ ë¹…í…Œí¬, AI ì£¼ë„ê¶Œ ê²½ìŸ ì‹¬í™”... íˆ¬ì ê¸‰ì¦ ì† ê·œì œ ë¦¬ìŠ¤í¬ ë¶€ìƒ**</p>
                    <p style="font-size: 14px; color: #555;">* AI ë°˜ë„ì²´ ìˆ˜ê¸‰ë‚œ ì¥ê¸°í™”... K-ë°˜ë„ì²´ ì—…ê³„ ìƒˆë¡œìš´ ì „ëµ ëª¨ìƒ‰</p>
                    <ul style="list-style: disc; padding-left: 20px; margin-top: 5px; color: #007bff;">
                        <li>ì°¨ì„¸ëŒ€ LLM ëª¨ë¸ ê³µê°œ, ì´ˆê±°ëŒ€ AI ê²½ìŸì˜ ì„œë§‰</li>
                        <li>ìƒì„±í˜• AIì˜ í™•ì‚°, ì½˜í…ì¸  ì‚°ì—…ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ë¶„ì„</li>
                    </ul>
                </section>
                <section class="article-section">
                    <h2>ğŸ’° Main Contents: Market & Finance</h2>
                    <p style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">**ê¸ˆë¦¬ ì¸í•˜ ê¸°ëŒ€ê° 'ì£¼ì¶¤'... ì½”ìŠ¤í”¼ 2700ì„  ê³µë°© ì¥ê¸°í™” ì˜ˆìƒ**</p>
                    <p style="font-size: 14px; color: #555;">* ë¶€ë™ì‚° PF ë¦¬ìŠ¤í¬ ì¬ë¶€ê°, ê¸ˆìœµë‹¹êµ­ 'ì„ ì œì  ëŒ€ì‘' ì£¼ë¬¸</p>
                    <div class="news-item">
                        <div class="news-item-img"></div>
                        <p style="margin: 0; font-weight: bold;">[ì†ë³´] ì›/ë‹¬ëŸ¬ í™˜ìœ¨, ì¥ì¤‘ 1,350ì› ëŒíŒŒ... ìˆ˜ì¶œ ê¸°ì—… í¬ë¹„ êµì°¨</p>
                    </div>
                </section>
                <div class="spacer-section">
                    <h3>ğŸ’¡ Special Feature: Future Tech</h3>
                    <p style="font-size: 16px;">**ìš°ì£¼ ê²½ì œ ì‹œëŒ€ ê°œë§‰: ë¯¼ê°„ ìš°ì£¼ì„ , ì €ê¶¤ë„ í†µì‹ ë§ ê²½ìŸ ê°€ì—´**</p>
                    <ul style="list-style: square; padding-left: 20px; margin-top: 5px;">
                        <li>ì°¨ì„¸ëŒ€ LLM ëª¨ë¸ ê³µê°œ, ì´ˆê±°ëŒ€ AI ê²½ìŸì˜ ì„œë§‰</li>
                        <li>ì–‘ì ì»´í“¨í„° ìƒìš©í™”, ë³´ì•ˆ íŒ¨ëŸ¬ë‹¤ì„ ë³€í™” ì˜ˆê³ </li>
                    </ul>
                </div>
            </div>
            
            <div class="sidebar">
                <h3>â­ Right Contents: Popular Ranking</h3>
                <ul class="ranking-list">
                    <li>1. [ë‹¨ë…] 2026ë…„ ê°€ê³„ë¶€ì±„ ì „ë§ ë³´ê³ ì„œ...</li>
                    <li>2. í…ŒìŠ¬ë¼ ë‹¤ìŒì€ ì´ ê¸°ì—…? ë¡œë´‡ì£¼ ì£¼ëª©</li>
                    <li>3. ìƒë°˜ê¸° ìµœê³  ìˆ˜ìµë¥  í€ë“œ ë¦¬ìŠ¤íŠ¸ ê³µê°œ</li>
                </ul>
                <div class="sidebar-item">
                    <h4>Quick Stats</h4>
                    <p>ì½”ìŠ¤í”¼: +0.5% | ë‚˜ìŠ¤ë‹¥: -0.2%</p>
                </div>
                <div class="sidebar-item">
                    <h4>Editorial Picks</h4>
                    <p>ë…¼ì„¤: "AI ìœ¤ë¦¬, ê¸°ì—…ì˜ ì‚¬íšŒì  ì±…ì„ìœ¼ë¡œ"</p>
                </div>
            </div>
        </div>
        
        <div id="MC_billboard_rectangle" class="ad-slot ad-2">
            <div class="gam-container">
            </div>
        </div>

        <div class="content-wrap">
            <div class="main-content">
                <section class="article-section">
                    <h2>ğŸŒ Sub Contents: Global Issue</h2>
                    <p style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">**ìœ ëŸ½, ë…¹ìƒ‰ ì „í™˜ ê°€ì†... íƒ„ì†Œ êµ­ê²½ì„¸ ë„ì… í˜„ì‹¤í™”**</p>
                    <div class="news-item">
                        <div class="news-item-img"></div>
                        <p style="margin: 0; font-weight: bold;">ëŸ¬ì‹œì•„-ìš°í¬ë¼ì´ë‚˜ ì „ìŸ ì¥ê¸°í™”, êµ­ì œ ì—ë„ˆì§€ ì‹œì¥ ë¶ˆì•ˆì • ì‹¬í™”</p>
                    </div>
                </section>
                <div class="spacer-section">
                    <h3>ğŸ­ Sub Contents: Society & Culture</h3>
                    <p style="font-size: 16px;">**OTT êµ¬ë…ë£Œ ì¸ìƒ ë„ë¯¸ë…¸... ì†Œë¹„ì ë¶€ë‹´ ì¦ê°€ ë…¼ë€**</p>
                    <ul style="list-style: circle; padding-left: 20px; margin-top: 5px;">
                        <li>MZì„¸ëŒ€ 'ê°“ìƒ' íŠ¸ë Œë“œ ì† ìˆ¨ê²¨ì§„ ì˜ë¯¸</li>
                    </ul>
                </div>
                <div class="spacer-section" style="border-left-color: #38761d;">
                    <h3>ğŸ“ Policy Briefing</h3>
                    <p style="font-size: 16px;">**ì •ë¶€, ì €ì¶œì‚° ëŒ€ì±… ë°œí‘œ... íŒŒê²©ì ì¸ ì£¼ê±° ì§€ì› ë°©ì•ˆ í¬í•¨**</p>
                </div>
            </div>
            
            <div class="sidebar">
                <h3>ğŸ“Œ Right Contents: Investment Tips</h3>
                <ul class="ranking-list" style="counter-reset: none; padding-left: 10px; list-style-type: disc;">
                    <li>ì¸í”Œë ˆì´ì…˜ í—¤ì§€ í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì¶• ì „ëµ</li>
                </ul>
                <h3 style="margin-top: 20px;">ğŸ“Œ Right Contents: Tech Review</h3>
                <div class="sidebar-item">
                    <p>ìµœì‹  ìŠ¤ë§ˆíŠ¸í° ì¹´ë©”ë¼ ê¸°ìˆ  ë¹„êµ ë¶„ì„</p>
                </div>
                <h3 style="margin-top: 20px;">ğŸ“Œ Right Contents: Lifestyle</h3>
                <ul class="ranking-list" style="counter-reset: none; padding-left: 10px; list-style-type: disc;">
                    <li>ì›°ë‹ˆìŠ¤ ì—¬í–‰ì§€ ì¶”ì²œ: ëª¸ê³¼ ë§ˆìŒì„ ì¹˜ìœ í•˜ëŠ” ê³µê°„</li>
                </ul>
                
                <div id="MR_halfpage_rectangle" class="ad-slot ad-3"> 
                    <div class="gam-container">
                    </div>
                </div>
                
                <h3 style="margin-top: 20px;">ğŸ“° Quick Links</h3>
                <ul class="ranking-list" style="counter-reset: none; padding-left: 10px; list-style-type: disc;">
                    <li>ë§¤ê²½ ì§€ë©´ ë³´ê¸°</li>
                    <li>ì£¼ìš” ê³µì‹œ ì‚¬í•­</li>
                </ul>
            </div>
        </div>
    </div>

    <footer>
        <p style="text-align: center; padding: 15px; background-color: #333; color: white; margin-top: 0;">
            &copy; 2025 Mockup Site. All Rights Reserved. (ë§¤ì¼ê²½ì œ ë ˆì´ì•„ì›ƒ ëª¨ë°©)
        </p>
    </footer>

    <script>
        // ----------------------------------------------------------
        // View GPTì™€ ì¼ê´€ëœ Lazy Load êµ¬ì¡°
        //  - LAZY_AD_SLOT_IDS: Lazy ëŒ€ìƒ ìŠ¬ë¡¯ ID ëª©ë¡
        //  - lazyAdSlotsHTML: DOM ìš”ì†Œ ëª©ë¡
        //  - lazyGamSlots: GAM ìŠ¬ë¡¯ ê°ì²´ ëª©ë¡
        //  - lazyObserver: IntersectionObserver ì¸ìŠ¤í„´ìŠ¤
        // ----------------------------------------------------------
        const LAZY_AD_SLOT_IDS = [
            'MC_billboard_rectangle',
            'MR_halfpage_rectangle'
        ];

        let lazyAdSlotsHTML = [];
        let lazyGamSlots = [];
        let lazyObserver = null;

        // ==========================================================
        // í•¨ìˆ˜ 1. Lazy Load ëŒ€ìƒ ê´‘ê³  ìŠ¬ë¡¯ ì„¤ì • ë° Observer ìƒì„±
        // ==========================================================
        function setupLazyLoading() {
            const allAdSlots = document.querySelectorAll('.ad-slot');
            lazyAdSlotsHTML = [];

            allAdSlots.forEach(slot => {
                if (LAZY_AD_SLOT_IDS.includes(slot.id)) {
                    lazyAdSlotsHTML.push(slot);
                }
            });
            
            lazyGamSlots = [];
            
            if (window.googletag && googletag.cmd) {
                googletag.cmd.push(function() {
                    const definedSlots = googletag.pubads().getSlots();
                    lazyGamSlots = definedSlots.filter(slot =>
                        LAZY_AD_SLOT_IDS.includes(slot.getSlotElementId())
                    );
                });
            }

            const options = {
                root: null, 
                rootMargin: '0px 0px 100px 0px', 
                threshold: 0.0
            };

            lazyObserver = new IntersectionObserver(function(entries, observerInstance) {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;

                    const slotId = entry.target.id;

                    if (window.googletag && googletag.cmd) {
                        googletag.cmd.push(function() {
                            const slotToRefresh = lazyGamSlots.find(
                                s => s.getSlotElementId() === slotId
                            );

                            if (slotToRefresh) {
                                // disableInitialLoad() í™˜ê²½ â†’ display + refresh íŒ¨í„´
                                googletag.display(slotId); 
                                googletag.pubads().refresh([slotToRefresh]); 
                                console.log(`âœ… [Lazy Load SUCCESS] Ad ID: ${slotId} | Status: DISPLAY + REFRESH upon scroll.`);
                            }
                        });
                    }

                    observerInstance.unobserve(entry.target);
                });
            }, options);
        }

        // ==========================================================
        // í•¨ìˆ˜ 2. Lazy Load ëŒ€ìƒ ìŠ¬ë¡¯ ê´€ì°° ì‹œì‘
        // ==========================================================
        function startObservingLazySlots() {
            if (!lazyObserver || !lazyAdSlotsHTML || lazyAdSlotsHTML.length === 0) return;

            lazyAdSlotsHTML.forEach(slot => {
                lazyObserver.observe(slot);
                console.log(`â³ [Lazy Load Register] Ad ID: ${slot.id} | Registered for Lazy Load.`);
            });
        }

        // ==========================================================
        // DOMContentLoaded ì‹œì ì— Lazy ê´€ë ¨ ë¡œì§ ì‹¤í–‰
        // ==========================================================
        document.addEventListener('DOMContentLoaded', function() {
            setupLazyLoading();        // Lazy ëŒ€ìƒ ìˆ˜ì§‘ ë° Observer ì´ˆê¸°í™”
            startObservingLazySlots(); // Lazy ëŒ€ìƒ ìŠ¬ë¡¯ ê´€ì°° ì‹œì‘
        });

        // â€» addAdLabel ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” <head> ì˜ì—­ì—ì„œ ì „ì—­ 1íšŒë§Œ ë“±ë¡
    </script>
</body>
</html>
