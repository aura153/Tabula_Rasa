<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css");

        /* [1. Global Reset] */
        html, body { background: transparent !important; margin: 0px !important; padding: 0px !important; -webkit-text-size-adjust: none !important; }
        h4, ul, li, div, span { margin: 0px !important; padding: 0px !important; }
        * { box-sizing: border-box !important; }

        /* [2. Aggressive Isolation] 겹침 방지 및 높이 상실 차단 */
        .ad_container_wrapper { 
            width: 100% !important; display: flow-root !important; position: relative !important; 
            clear: both !important; min-height: 135px !important; overflow: visible !important;
        }

        /* [3. Border Control] 3행 선 강제 유지 및 6행 선 제거 */
        .ad_list, li, .ad_item { border-bottom: 1px solid #dadada !important; height: 45px !important; display: flex !important; align-items: center !important; list-style: none !important; }
        
        /* 셔플 시 첫 번째 뭉치의 마지막 선은 무조건 살림 */
        .ad_container_wrapper:first-of-type .ad_list:last-child, 
        .ad_container_wrapper:first-of-type li:last-child,
        .ad_container_wrapper:first-of-type .ad_item:last-child { border-bottom: 1px solid #dadada !important; }

        /* 전체 리스트의 최하단 선 제거 */
        .ad_container_wrapper:last-of-type .ad_list:last-child, 
        .ad_container_wrapper:last-of-type li:last-child,
        .ad_container_wrapper:last-of-type .ad_item:last-child { border-bottom: none !important; }

        /* [4. Typography] 매경 표준 16px / 25px */
        body div, .ad_box, [id^="reo"], [id^="adinc"] { width: 100% !important; text-align: left !important; font-family: 'Pretendard Variable', 'Malgun Gothic', -apple-system, sans-serif !important; }
        .ad_list a, li a, .ad_item a { display: flex !important; align-items: center !important; width: 100% !important; height: 100% !important; padding: 0px 10px 0px 0px !important; text-decoration: none !important; color: #212121 !important; font-size: 16px !important; font-weight: 600 !important; line-height: 25px !important; letter-spacing: -0.75px !important; white-space: nowrap !important; text-overflow: ellipsis !important; overflow: hidden !important; position: relative !important; top: 1px !important; cursor: pointer !important; }

        /* Bullet 16px */
        .ad_list a::before, li a::before, .ad_item a::before { content: '·' !important; color: #FF7A00 !important; font-weight: 900 !important; font-size: 16px !important; margin-right: 6px !important; line-height: 1 !important; }
    </style>
</head>
<body>
    <script>
        (function() {
            var adScripts = [
                { id: "wrap_reople", src: "//ad.reople.co.kr/cgi-bin/PelicanC.dll?impr?pageid=0Hsv&lang=utf-8&out=script" },
                { id: "wrap_adinc", src: "//ad.adinc.kr/cgi-bin/PelicanC.dll?impr?pageid=09gd&lang=utf-8&out=script" }
            ];
            if (Math.random() > 0.5) adScripts.reverse();

            document.write("<div id='" + adScripts[0].id + "' class='ad_container_wrapper'><script src='" + adScripts[0].src + "'></scr" + "ipt></div>");
            document.write("<div id='" + adScripts[1].id + "' class='ad_container_wrapper'><script src='" + adScripts[1].src + "'></scr" + "ipt></div>");
        })();

        /* [변동 대응형 클릭 인터셉터] 구조가 변해도 클릭을 가로채는 방식 */
        (function() {
            const gamClickMacro = "%%CLICK_URL_UNESC%%";
            
            function applyTracking() {
                // a 태그뿐만 아니라 클릭 이벤트가 있는 모든 잠재적 타겟을 감시
                const targets = document.querySelectorAll('.ad_container_wrapper a, .ad_container_wrapper [onclick], .ad_item, .ad_list');
                
                targets.forEach(el => {
                    if (el.dataset.tracked === "true" || gamClickMacro.indexOf("%%") === 0) return;

                    // 1. 표준 a 태그 대응
                    if (el.tagName === 'A') {
                        const originalHref = el.getAttribute('href');
                        if (originalHref && originalHref.indexOf(gamClickMacro) === -1) {
                            el.href = gamClickMacro + originalHref;
                            el.dataset.tracked = "true";
                        }
                    } 
                    // 2. onclick 자바스크립트 방식 대응 (변동 대응 핵심)
                    else if (el.getAttribute('onclick')) {
                        const originalClick = el.getAttribute('onclick');
                        // 구글 트래커를 먼저 호출한 뒤 원본 클릭 이벤트를 실행하도록 변경
                        if (originalClick.indexOf(gamClickMacro) === -1) {
                            el.setAttribute('onclick', `fetch('${gamClickMacro}'); ${originalClick}`);
                            el.dataset.tracked = "true";
                        }
                    }
                });
            }

            // 대행사 스크립트 실행 지연을 고려하여 5초간 반복 검수
            let count = 0;
            const timer = setInterval(() => { 
                applyTracking(); 
                if (++count > 10) clearInterval(timer); 
            }, 500);
        })();
    </script>
</body>
</html>

