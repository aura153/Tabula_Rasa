<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section GPT (Optimized Exclusion Lazy Load & Full Comments)</title> 

    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
    <script>
        /*
         * [ê³µí†µ Â· googletag ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì´ˆê¸°í™”]
         * - gpt.js ë¡œë”ëŠ” window.googletag ê°ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
         * - ì•„ë˜ íŒ¨í„´ì€ ê³µì‹ ê¶Œì¥ íŒ¨í„´ìœ¼ë¡œ, ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì´ì „ì—ë„
         * googletag.cmd.push(function(){ ... })ì— ì½œë°±ì„ ìŒ“ì•„ë‘˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         */
        window.googletag = window.googletag || {cmd: []};

        /*
         * [AdUnitPath ì„¤ëª…]
         * - AdUnitPathëŠ” í•´ë‹¹ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•  GAM ì¸ë²¤í† ë¦¬ ê²½ë¡œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
         * êµ¬ì¡° ì˜ˆì‹œ:
         * - /7450                         : ë„¤íŠ¸ì›Œí¬ ì½”ë“œ(ë§¤ì¼ê²½ì œ ë„¤íŠ¸ì›Œí¬ ID)
         * - /www.mk.co.kr/news/economy    : ì‚¬ì´íŠ¸/ì„¹ì…˜(ê²½ì œ)
         * - /section_front                : ì„¹ì…˜ í”„ë¡ íŠ¸(ê²½ì œ ì„¹ì…˜ ë©”ì¸) êµ¬ë¶„ìš© suffix
         *
         * - ì´ í…œí”Œë¦¿(Section GPT)ì—ì„œëŠ” ê³ ì • ê°’ìœ¼ë¡œ ì„¤ì •í–ˆì§€ë§Œ,
         * ì‹¤ì œ CMS/í…œí”Œë¦¿ ì—”ì§„ì—ì„œëŠ” section_front_nm, section_list_nm ë“±ì— ë”°ë¼
         * ë‹¤ìŒê³¼ ê°™ì´ ë™ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         *
         * ì˜ˆ)
         * - ê²½ì œ ì„¹ì…˜ í”„ë¡ íŠ¸: /7450/www.mk.co.kr/news/economy/section_front
         * - ë¶€ë™ì‚° ì„¹ì…˜ í”„ë¡ íŠ¸: /7450/www.mk.co.kr/news/realestate/section_front
         *
         * - ìš´ì˜ ì‹œ ê¶Œì¥:
         * - const AdUnitPath = BASE_PREFIX + SECTION_PATH + PAGE_TYPE_SUFFIX;
         * - HOME / VIEW / SECTION / LIST í…œí”Œë¦¿ì—ì„œ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ìƒì„±í•˜ë©´
         * ê´€ë¦¬/ë¶„ì„/êµ¬ì¡° ë³€ê²½ì´ ìš©ì´í•´ì§‘ë‹ˆë‹¤.
         */
        const AdUnitPath = '/7450/www.mk.co.kr/news/economy/section_front'; 

        /*
         * [ë‹¤í¬ ëª¨ë“œ í”Œë˜ê·¸ isDarkMode]
         * - ì‚¬ìš©ìì˜ OS/ë¸Œë¼ìš°ì € ë‹¤í¬ ëª¨ë“œ ì„¤ì •(prefers-color-scheme: dark)ì„ ê°ì§€í•©ë‹ˆë‹¤.
         * - ì´í›„ í˜ì´ì§€ ë ˆë²¨ íƒ€ê²ŒíŒ… í‚¤(is_dark_mode)ì— ì „ë‹¬ë˜ì–´,
         * ë‹¤í¬ ëª¨ë“œ ì´ìš©ìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” í¬ë¦¬ì—ì´í‹°ë¸Œ ì§‘í–‰/ë¶„ì„ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         */
        const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'true' : 'false';

        /*
         * [ìŠ¬ë¡¯ ê°ì²´ ì°¸ì¡°ìš© ë³€ìˆ˜]
         * - Eager(ì¦‰ì‹œ ë¡œë“œ) / Lazy(ì§€ì—° ë¡œë“œ) ìŠ¬ë¡¯ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡
         * ì „ì—­ ë³€ìˆ˜ì— ë³´ê´€í•©ë‹ˆë‹¤.
         * - Section GPTì—ì„œëŠ”:
         * - TC_billboard_leaderboard_slot : ìƒë‹¨ ë¹Œë³´ë“œ, Eager Load
         * - MR_halfpage_rectangle_slot    : ìš°ì¸¡ MR (Desktop: Eager, Mobile: Lazy)
         */
        var TC_billboard_leaderboard_slot = null;
        var MR_halfpage_rectangle_slot    = null;

        // ***************************************************
        // âœ… ê´‘ê³  ë Œë”ë§ ì™„ë£Œ ì‹œ 'Advertisement' ë¼ë²¨ì„ ì‚½ì…í•˜ëŠ” í•¨ìˆ˜
        // ---------------------------------------------------
        // [ê³µí†µ Â· ë¼ë²¨ ì‚½ì… ë©”ì»¤ë‹ˆì¦˜]
        // - GAMì€ ê° ìŠ¬ë¡¯ì— ëŒ€í•´ ë Œë”ë§ ì™„ë£Œ ì‹œì ì— slotRenderEnded ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.
        // - addAdLabel(event)ëŠ” í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ì—¬,
        //   ì‹¤ì œ ê´‘ê³ ê°€ ì±„ì›Œì§„ ìŠ¬ë¡¯(event.isEmpty === false)ì—ë§Œ "Advertisement" ë¼ë²¨ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
        // - íŠ¹ì§•:
        //   - .ad-slot ë˜í¼ì˜ ì²« ë²ˆì§¸ ìì‹ìœ¼ë¡œ mk-ad-label DIVë¥¼ prepend
        //   - ë™ì¼ ìŠ¬ë¡¯ì— ì¤‘ë³µ ë¼ë²¨ì´ ë¶™ì§€ ì•Šë„ë¡ ì‚¬ì „ ê²€ì‚¬ ìˆ˜í–‰
        //   - BC_native_xxx ë“± ë¼ë²¨ ì˜ˆì™¸ ìŠ¬ë¡¯ì´ ìˆë‹¤ë©´, View GPTì²˜ëŸ¼ slotIdë¡œ ì¡°ê±´ ë¶„ê¸°í•˜ì—¬ ì œì™¸ ê°€ëŠ¥
        //
        // [Section/HOME ê³µí†µ ì •ì±…]
        // - HOME GPTì™€ ë™ì¼í•˜ê²Œ, ì„¹ì…˜ ìƒë‹¨ TC_billboard_leaderboardëŠ”
        //   ë¸Œëœë“œ/ë©”ì¸ í¬ë¦¬ì—ì´í‹°ë¸Œ ì˜ì—­ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ
        //   "Advertisement" ë¼ë²¨ì„ ë¶™ì´ì§€ ì•ŠëŠ” ì˜ˆì™¸ ìŠ¬ë¡¯ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        // ***************************************************
        function addAdLabel(event) {
            const slotId = event.slot.getSlotElementId();
            const slotElement = document.getElementById(slotId); 
            const outerSlot = slotElement ? (slotElement.closest('.ad-slot') || slotElement) : null;

            // ğŸ’¡ [TC ì „ìš© ì˜ˆì™¸ ì²˜ë¦¬] Section í”„ë¡ íŠ¸ ìƒë‹¨ TCì—ëŠ” ë¼ë²¨ì„ ë¶™ì´ì§€ ì•ŠìŒ
            // - HOME GPTì˜ TC_billboard_leaderboardì™€ ë™ì¼ ì •ì±…
            if (slotId === 'TC_billboard_leaderboard') {
                if (event.isEmpty) return;   // ê´‘ê³ ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ ë™ì‘ ì—†ìŒ
                // (í•„ìš” ì‹œ ì½˜ì†” ë¡œê¹…ë§Œ ë‚¨ê¸¸ ìˆ˜ ìˆìŒ)
                console.log('â„¹ï¸ [Ad Label] TC_billboard_leaderboard: label skipped by policy.');
                return;
            }
            
            if (event.isEmpty === false && outerSlot) {
                // ì´ë¯¸ ë¼ë²¨ì´ ìˆëŠ” ê²½ìš° ì¤‘ë³µ ì‚½ì… ë°©ì§€
                if (outerSlot.querySelector('.mk-ad-label')) return; 

                const labelElement = document.createElement('div');
                labelElement.className = 'mk-ad-label';
                labelElement.textContent = 'Advertisement';
                
                outerSlot.insertBefore(labelElement, outerSlot.firstChild);

                // ì‹¤ì œ ê´‘ê³  ì˜ì—­ì€ íˆ¬ëª… ë°°ê²½/í…Œë‘ë¦¬ ìœ ì§€ (ë””ìì¸/ë ˆì´ì•„ì›ƒ ì˜í–¥ ìµœì†Œí™”)
                outerSlot.style.border = 'none'; 
                outerSlot.style.backgroundColor = 'transparent';

                console.log(`âœ… [Ad Label] Label added for ${slotId}`);
            }
        }
        // ***************************************************

        googletag.cmd.push(function() {
            
            // --- [1] device_category ê²°ì • (í˜ì´ì§€ ë ˆë²¨ ê³µí†µ íƒ€ê²ŒíŒ…) -----------------
            //
            // - UA(User Agent)ì™€ viewport í­ì„ ê²°í•©í•˜ì—¬ ë””ë°”ì´ìŠ¤ë¥¼ 3ë‹¨ê³„ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.
            //   1. smartphone : ìŠ¤ë§ˆíŠ¸í°ìš© UA ë¬¸ìì—´ì´ í¬í•¨ë˜ì–´ ìˆê±°ë‚˜, í™”ë©´ í­ì´ 768px ì´í•˜ì¸ ê²½ìš°
            //   2. tablet     : ìŠ¤ë§ˆíŠ¸í°ì€ ì•„ë‹ˆì§€ë§Œ íƒœë¸”ë¦¿ìš© UA ë¬¸ìì—´ì´ í¬í•¨ë˜ì–´ ìˆê±°ë‚˜, í™”ë©´ í­ì´ 1024px ì´í•˜ì¸ ê²½ìš°
            //   3. desktop    : ìœ„ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ê²½ìš° (ê¸°ë³¸ê°’)
            //
            // - ì´ ê°’ì€ ìŠ¬ë¡¯ ì •ì˜ ì—¬ë¶€(if ì¡°ê±´)ì™€ GAM íƒ€ê²ŒíŒ… ê°’(device_category)ìœ¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.
            // ------------------------------------------------------------------
            const userAgent = navigator.userAgent.toLowerCase();
            const width = window.innerWidth;
            let deviceCategory = 'desktop';

            // 1. Smartphone íŒë³„: ëª¨ë°”ì¼ UA(iPad ì œì™¸)ì´ê±°ë‚˜ í­ì´ 768px ì´í•˜ì¸ ê²½ìš°
            if ((/mobile|android|iphone|ipod/.test(userAgent) && !/ipad/.test(userAgent)) || width <= 768) {
                deviceCategory = 'smartphone';
            } 
            // 2. Tablet íŒë³„: iPad/Tablet UAì´ê±°ë‚˜ í­ì´ 1024px ì´í•˜ì¸ ê²½ìš°
            else if (/ipad|tablet/.test(userAgent) || width <= 1024) {
                deviceCategory = 'tablet';
            }

            googletag.pubads().setTargeting('device_category', deviceCategory);
            
            /*
             * [Section ì „ìš© Â· í˜ì´ì§€ ë ˆë²¨ ê³ ì • ê°’]
             * - page_type         : 'section_front' â†’ ì„¹ì…˜ ë©”ì¸(í”„ë¡ íŠ¸) í˜ì´ì§€ì„ì„ ëª…ì‹œ
             * - section_home_nm   : '' (í™ˆ êµ¬ë¶„ ì—†ìŒ â†’ í•„ìš” ì‹œ 'MK' ë“±ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥)
             * - section_front_nm  : 'economy' â†’ ê²½ì œ ì„¹ì…˜ í”„ë¡ íŠ¸ ì‹ë³„ì
             * - is_dark_mode      : ìƒë‹¨ì—ì„œ ê³„ì‚°í•œ ë‹¤í¬ ëª¨ë“œ ì—¬ë¶€
             * - gpt_version       : í…œí”Œë¦¿/ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ ê´€ë¦¬ìš© ë‚´ë¶€ í”Œë˜ê·¸(2025)
             * - setPublisherProvidedId(PPID) :
             * - ì„œë²„ì—ì„œ í•´ì‹œ ì²˜ë¦¬ëœ ì‚¬ìš©ì ì‹ë³„ì(1st party)ë¥¼ ì£¼ì…í•˜ëŠ” ìë¦¬ì—
             * ë”ë¯¸ ë¬¸ìì—´ë¡œ ë„£ì–´ ë‘” ìƒíƒœì…ë‹ˆë‹¤.
             */
            googletag.pubads().setTargeting('page_type', 'section_front');
            googletag.pubads().setTargeting('section_home_nm', ''); 
            googletag.pubads().setTargeting('section_front_nm', 'economy');
            googletag.pubads().setTargeting('is_dark_mode', isDarkMode);
            googletag.pubads().setTargeting('gpt_version', '2025'); 
            googletag.pubads().setPublisherProvidedId('PPID_DYNAMIC_HASHED_ID (SERVER_HASHED_ID)');

            /*
             * [ë™ì  ì…ë ¥ í‚¤-ê°’ ì˜ì—­]
             * - ì•„ë˜ í‚¤ë“¤ì€ ì‹¤ì œ ìš´ì˜ ì‹œ CMS/ë°±ì—”ë“œì—ì„œ article, section, user ìƒíƒœì— ë”°ë¼
             * ë®ì–´ì¨ì•¼ í•˜ëŠ” ê°’ë“¤ì…ë‹ˆë‹¤.
             * - Section GPTì—ì„œëŠ” â€œê²½ì œ ì„¹ì…˜ í”„ë¡ íŠ¸â€ë¼ëŠ” í˜ì´ì§€ íŠ¹ì„±ìƒ,
             * ê¸°ì‚¬ ë‹¨ìœ„ ì •ë³´(article_num, title ë“±)ì— ëŒ€í•´ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 'ë™ì ì…ë ¥' í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì‚¬ìš©í•˜ë˜,
             * í…œí”Œë¦¿ êµ¬ì¡°ë¥¼ View/HOME/LISTì™€ ë™ì¼í•˜ê²Œ ê°€ì ¸ê°€ê¸° ìœ„í•´ ëª¨ë“  í‚¤ë¥¼ ë¯¸ë¦¬ ì •ì˜í•´ ë‘” ìƒíƒœì…ë‹ˆë‹¤.
             * - í•µì‹¬ ìš©ë„:
             * - ë¦¬í¬íŠ¸ ë¶„ì„(ì˜ˆ: section_list_nmë³„ ìˆ˜ìµ, SOURCE_IDë³„ íš¨ìœ¨)
             * - ì»¨í…ìŠ¤íŠ¸ íƒ€ê²ŒíŒ…(ì˜ˆ: keywords, MIDDLE_CODE_ENG_NM ë“±)
             * - ìœ ë£Œ/ì„±ì¸/ë¯¼ê° ì½˜í…ì¸  ì—¬ë¶€(is_paid_content, has_adult_content, brandsensitive ë“±)
             */
            // â–¼â–¼â–¼ ë™ì  ì…ë ¥ í‚¤-ê°’ â–¼â–¼â–¼
            googletag.pubads().setTargeting('domain', window.location.hostname);
            googletag.pubads().setTargeting('url', window.location.href);
            googletag.pubads().setTargeting('referer', document.referrer);
            googletag.pubads().setTargeting('web_type', 'responsive');
            googletag.pubads().setTargeting('section_list_nm', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('SOURCE_ID', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('source_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('MIDDLE_CODE_ENG_NM', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('CODE_ID', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('article_num', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('title', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('title_slug', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('url_slug', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('publish_date', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('journalist', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('keywords', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('ticker_name', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('has_video', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('is_app_viewer', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('login_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('login_status', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('membership_type', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('is_paid_content', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('has_adult_content', 'ë™ì ì…ë ¥');
            googletag.pubads().setTargeting('brandsensitive', 'ë™ì ì…ë ¥');
            // â–²â–²â–² ë™ì  ì…ë ¥ í‚¤-ê°’ â–²â–²â–²

            // GAM ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (ë¼ë²¨ ì‚½ì…)
            googletag.pubads().addEventListener('slotRenderEnded', addAdLabel);

            // --- [4] Size Mapping ì •ì˜ (2ê°œë¡œ ë¶„ë¦¬ ì ìš©) ---
            /*
             * [ê³µí†µ Â· ë°˜ì‘í˜• ê´‘ê³  êµ¬í˜„ ë¡œì§ ê°œìš”]
             * - sizeMappingì€ "ë·°í¬íŠ¸ í¬ê¸°ì— ë”°ë¼ ì–´ë–¤ ì‚¬ì´ì¦ˆ ì¡°í•©ì„ í—ˆìš©í• ì§€"ë¥¼ ì •ì˜í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
             * - addSize([viewportWidth, viewportHeight], [í—ˆìš© ê´‘ê³  ì‚¬ì´ì¦ˆ ëª©ë¡])
             * ì˜ˆ) [1024, 0] ì´ìƒì¼ ë•ŒëŠ” ë°ìŠ¤í¬íƒ‘ìš© ëŒ€í˜• ë°°ë„ˆ, ê·¸ë³´ë‹¤ ì‘ìœ¼ë©´ ëª¨ë°”ì¼ìš© ì†Œí˜• ë°°ë„ˆ
             *
             * - Section/List GPTì—ì„œëŠ”:
             * - sizeMapping_horizontal       : ìƒë‹¨ ê°€ë¡œí˜• ë°°ë„ˆ(TC)ì— ê³µí†µ ì ìš©
             * - sizeMapping_siderail_square  : ìš°ì¸¡ ì‚¬ì´ë“œë ˆì¼(MR) ë°•ìŠ¤í˜•/ì„¸ë¡œí˜• ë°°ë„ˆì— ì ìš©
             * - ì‹¤ì œ ì…ì°° ë‹¨ê³„ì—ì„œ GAMì€ ì´ ë§¤í•‘ ì •ë³´ë¥¼ ì‚¬ìš©í•´, ë·°í¬íŠ¸ì— ë§ëŠ” í¬ë¦¬ì—ì´í‹°ë¸Œë§Œ ì„ ë³„í•˜ì—¬ ë…¸ì¶œí•©ë‹ˆë‹¤.
             */

            // 0-1. ê°€ë¡œí˜• ë°°ë„ˆìš© ì‚¬ì´ì¦ˆ ë§¤í•‘ (TC)
            const sizeMapping_horizontal = googletag.sizeMapping()
                .addSize([1024, 0], [
                    [1246, 100], [1200, 300], [1200, 100], 
                    [980, 120], [970, 250], [930, 180], [970, 90], 
                    [728, 90], 
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .addSize([768, 0], [
                    [750, 300], [750, 200], [728, 90], 
                    [480, 320], 
                    [336, 280], [320, 480], [300, 250], 
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .addSize([0, 0], [
                    [336, 280], [320, 480],
                    [320, 100], [320, 50], 
                    [300, 250], [250, 250], [200, 200], 
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .build();

            // 0-2. ìš°ì¸¡ ì‚¬ì´ë“œë ˆì¼ ë°•ìŠ¤í˜• ë°°ë„ˆìš© ì‚¬ì´ì¦ˆ ë§¤í•‘ (MR)
            const sizeMapping_siderail_square = googletag.sizeMapping()
                .addSize([1024, 0], [
                    [336, 280], [320, 480], [300, 600], [300, 250], 
                    [250, 250], [200, 200],
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .addSize([768, 0], [
                    [750, 300], [750, 200], [728, 90], 
                    [480, 320], 
                    [336, 280],[320, 480],
                    [320, 100], [320, 50],
                    [300, 250], [250, 250], [200, 200],
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .addSize([0, 0], [
                    [336, 280], [320, 480],
                    [320, 100], [320, 50],
                    [300, 250], [250, 250], [200, 200],
                    [2, 1], [1, 1], 
                    'fluid'
                ])
                .build();
            // ----------------------------------------------------]

            // 5. ê´‘ê³  ìŠ¬ë¡¯ ì •ì˜ 
            /*
             * [ìŠ¬ë¡¯ ë ˆë²¨ íƒ€ê²ŒíŒ… Â· ê³µí†µ íŒ¨í„´]
             * - setTargeting('div_id', ...)        : DOM IDì™€ ë™ì¼í•˜ê²Œ ì„¤ì • (ë””ë²„ê¹…/ë¦¬í¬íŠ¸ìš©)
             * - setTargeting('position', ...)      : TC/MR/MC ë“± í˜ì´ì§€ ìƒ ìƒëŒ€ ìœ„ì¹˜
             * - setTargeting('ad_area_type', ...)  : ATF, in_article, below_comments ë“± êµ¬ì²´ ë…¸ì¶œ ë§¥ë½
             * - setTargeting('default_exposure', ...):
             * - A/B í…ŒìŠ¤íŠ¸ë‚˜ ê¸°ë³¸ ë…¸ì¶œ ì—¬ë¶€ ì‹¤í—˜ ì‹œ í™œìš© ê°€ëŠ¥ (ì˜ˆ: hidden / default ë“±)
             * - setTargeting('load_type', 'eager'|'lazy'):
             * - ë¡œë”© ì „ëµ(Eager vs Lazy)ì„ ëª…í™•íˆ êµ¬ë¶„í•´ ë¦¬í¬íŠ¸/ìš´ì˜ì—ì„œ í™œìš©í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
             */

            // 5-1. TC_billboard_leaderboard (Eager Load) - sizeMapping_horizontal ì ìš©
            TC_billboard_leaderboard_slot = googletag.defineSlot(
                AdUnitPath,
                [[1246, 100], [1200, 300], [1200, 100], [980, 120], [970, 250], [930, 180], [970, 90], [728, 90], [320, 100], [320, 50], [2, 1], [1, 1], 'fluid'],
                'TC_billboard_leaderboard'
            )
                .defineSizeMapping(sizeMapping_horizontal) 
                .setTargeting('div_id', 'TC_billboard_leaderboard')
                .setTargeting('position', 'TC')
                .setTargeting('ad_area_type', 'ATF')       // ì„¹ì…˜í”„ë¡ íŠ¸ ìƒë‹¨ Above The Fold
                .setTargeting('default_exposure', 'hidden')
                .setTargeting('load_type', 'eager')        // í˜ì´ì§€ ì§„ì…ê³¼ ë™ì‹œì— ë…¸ì¶œë˜ëŠ” Eager ìŠ¬ë¡¯
                .addService(googletag.pubads());


            // 5-2. MR_halfpage_rectangle (Hybrid Load) - sizeMapping_siderail_square ì ìš©
            // ğŸ’¡ [ìˆ˜ì • ì‘ì—… 1] ë°ìŠ¤í¬í†±ì¼ ë•ŒëŠ” eager, ê·¸ ì™¸(ëª¨ë°”ì¼/íƒœë¸”ë¦¿)ëŠ” lazyë¡œ ë¶„ê¸°
            MR_halfpage_rectangle_slot = googletag.defineSlot(
                AdUnitPath,
                [[750, 300], [750, 200], [728, 90], [480, 320], [336, 280], [320, 480], [320, 100], [320, 50], [300, 600], [300, 250], [250, 250], [200, 200], [2, 1], [1, 1], 'fluid'],
                'MR_halfpage_rectangle' // Slot IDëŠ” MR_halfpage_rectangle ìœ ì§€
            )
                .defineSizeMapping(sizeMapping_siderail_square) 
                .setTargeting('div_id', 'MR_halfpage_rectangle')
                .setTargeting('position', 'MR')
                .setTargeting('ad_area_type', 'ATF')       // ìš°ì¸¡ ìƒë‹¨ ë ˆì¼(ATF ì„±ê²©)
                .setTargeting('default_exposure', '')               
                // ğŸ’¡ [ìˆ˜ì • ì‘ì—… 1] load_type ë¶„ê¸° ì²˜ë¦¬: desktop -> eager, others -> lazy
                .setTargeting('load_type', deviceCategory === 'desktop' ? 'eager' : 'lazy') 
                .addService(googletag.pubads());

            // 6. GAM í•µì‹¬ ê¸°ëŠ¥ í™œì„±í™”
            /*
             * [GAM í•µì‹¬ ê¸°ëŠ¥ ì„¤ëª…]
             *
             * 1) disableInitialLoad()
             * - í˜ì´ì§€ ë¡œë”© ì‹œ, GAMì´ ìë™ìœ¼ë¡œ ê´‘ê³ ë¥¼ ìš”ì²­í•˜ì§€ ì•Šë„ë¡ ë§‰ìŠµë‹ˆë‹¤.
             * - ì´í›„ ê°œë°œìê°€ ëª…ì‹œì ìœ¼ë¡œ display() + refresh()ë¥¼ í˜¸ì¶œí•  ë•Œë§Œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.
             * - Lazy Load/ë·°í¬íŠ¸ ê¸°ë°˜ ë¡œë”© êµ¬í˜„ì„ ìœ„í•œ í•„ìˆ˜ ì „ì œ ì¡°ê±´ì…ë‹ˆë‹¤.
             *
             * 2) enableSingleRequest()
             * - SRA(Single Request Architecture)ë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.
             * - ì—¬ëŸ¬ ìŠ¬ë¡¯ ìš”ì²­ì„ í•˜ë‚˜ì˜ ë„¤íŠ¸ì›Œí¬ ì½œë¡œ ë¬¶ì–´ ë ˆì´í„´ì‹œë¥¼ ì¤„ì´ê³ ,
             * ë¼ì¸ ì•„ì´í…œ ê°„ ê²½ìŸ/ìš°ì„ ìˆœìœ„ í‰ê°€ë¥¼ ì¼ê´€ë˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
             *
             * 3) PageSettingsConfig (setConfig)
             * - centering   : ì‘ì€ ê´‘ê³  í¬ë¦¬ì—ì´í‹°ë¸Œë¥¼ ìŠ¬ë¡¯ ë‚´ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬.
             * - collapseDiv : 'BEFORE_FETCH' ì„¤ì • ì‹œ, ì´ˆê¸°ì—ëŠ” ìŠ¬ë¡¯ì„ ì ‘ê³ 
             * ê´‘ê³ ê°€ ë°˜í™˜ë  ë•Œ í™•ì¥ â†’ ê¸°ì¡´ collapseEmptyDivs(true)ì™€ ë™ì‘ ìœ ì‚¬.
             */
            
            // ğŸ’¡ [ìˆ˜ì • ì‘ì—… 2] ê¸°ì¡´ ê°œë³„ ì„¤ì •ì„ setConfigë¡œ í†µí•© ë° ìµœì‹ í™”
            googletag.pubads().enableSingleRequest();
            googletag.pubads().disableInitialLoad();        // â˜… ì „ì—­ ì´ˆê¸° ë¡œë“œ ë¹„í™œì„±í™” (setConfigì™€ ì¤‘ë³µë˜ë‚˜ í˜¸í™˜ì„± ìœ„í•´ ìœ ì§€ ê°€ëŠ¥, ìµœì‹ í™”ëŠ” ì•„ë˜ setConfigë¡œ ì²˜ë¦¬)

            // âœ… PageSettingsConfig: setConfig í•˜ë‚˜ë¡œ í†µí•©
            googletag.setConfig({
                // 1. Single Request Architecture í™œì„±í™”
                singleRequest: true, 
                
                // 2. ì´ˆê¸° ë¡œë”© ë°©ì§€ (IntersectionObserver ê¸°ë°˜ Lazy Load í•„ìˆ˜ ì„¤ì •)
                disableInitialLoad: true,
                
                // 3. ê´‘ê³  iframe ì¤‘ì•™ ì •ë ¬
                centering: true,
                
                // 4. ê´‘ê³  ìš”ì²­ ì „ ë¹ˆ ìŠ¬ë¡¯ ì ‘ê¸° (CLS ë°©ì§€ ë° ê³µê°„ ìµœì í™”)
                collapseDiv: 'BEFORE_FETCH'
            });

            googletag.enableServices();

            /*
             * [Eager vs Lazy Â· Section GPT ì „ëµ]
             * - TC_billboard_leaderboard : Eager (í•­ìƒ)
             * - MR_halfpage_rectangle    : Hybrid (Desktop: Eager / Others: Lazy)
             *
             * ğŸ’¡ Eager ë¡œë“œ ëŒ€ìƒ ìŠ¬ë¡¯ì€ ì—¬ê¸°ì„œ ì§ì ‘ í˜¸ì¶œí•˜ê±°ë‚˜,
             * í•˜ë‹¨ ìŠ¤í¬ë¦½íŠ¸(setupLazyLoading)ì˜ Eager ì²˜ë¦¬ ë¡œì§ì— ë§¡ê¹ë‹ˆë‹¤.
             * ì—¬ê¸°ì„œëŠ” TCë§Œ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•˜ê³ , MRì€ í•˜ë‹¨ ë¡œì§ì„ ë”°ë¦…ë‹ˆë‹¤.
             */

            // TC(Eager)ë§Œ ì¦‰ì‹œ display + refresh
            googletag.display('TC_billboard_leaderboard');
            googletag.pubads().refresh([TC_billboard_leaderboard_slot]);
            console.log('â–¶ï¸ [Eager] TC_billboard_leaderboard DISPLAY + REFRESH');
        });
    </script>
    <style>
        /* * [ê¸°ë³¸ ë ˆì´ì•„ì›ƒ Â· Section GPT]
         * - HOME GPT ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ì„ ì¬ì‚¬ìš©í•˜ì—¬, HOME/SECTION/LIST í˜ì´ì§€ ê°„
         * êµ¬ì¡° ë° ê´‘ê³  ì˜ì—­ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
         * - ê´‘ê³ ì™€ ì§ì ‘ ì—°ê´€ë˜ì§€ ì•ŠëŠ” ìŠ¤íƒ€ì¼ì€ ìµœì†Œí•œì˜ ì„¤ëª…ë§Œ ë‚¨ê²¨ ë‘ì—ˆìŠµë‹ˆë‹¤.
         */

        body { font-family: 'Malgun Gothic', 'Dotum', Arial, sans-serif; margin: 0; padding: 0; background-color: #f6f6f6; color: #333; }
        a { text-decoration: none; color: inherit; }

        /*
         * [ë³€ê²½ Â· ì»¨í…Œì´ë„ˆ í­ ì •ì±…]
         * - max-width: 1210px â†’ 1246pxë¡œ í™•ëŒ€
         * Â· ì‚¬ì´ë“œë°” í­ì„ 300px â†’ 336pxë¡œ í™•ì¥í•˜ë©´ì„œë„,
         * ë©”ì¸ ì½˜í…ì¸  ìµœì†Œ í­(ì•½ 870px ìˆ˜ì¤€)ì€ ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ ë§ì¶˜ ê°’ì…ë‹ˆë‹¤.
         * Â· HOME GPTì™€ ë™ì¼í•œ 1246px ì»¨í…Œì´ë„ˆ í­ì„ ì‚¬ìš©í•˜ì—¬,
         * ìƒë‹¨/ì„¹ì…˜/ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ ê°„ ë ˆì´ì•„ì›ƒ ëŠë‚Œì„ í†µì¼í–ˆìŠµë‹ˆë‹¤.
         */
        .container { max-width: 1246px; margin: 0 auto; padding: 0 10px; }

        header { width: 100%; background-color: #fff; border-bottom: 1px solid #ddd; padding: 10px 0; text-align: center; }
        .logo { font-size: 28px; font-weight: bold; color: #000; }
        nav { background-color: #f9f9f9; border-bottom: 2px solid #333; margin-bottom: 20px; }
        .nav-list { list-style: none; padding: 0; margin: 0; display: flex; justify-content: flex-start; }
        .nav-list li { padding: 10px 15px; font-weight: bold; border-right: 1px solid #eee; }
        .nav-list li:first-child { color: #c00; }

        .content-wrap { display: flex; gap: 20px; margin-bottom: 30px; }

        /*
         * [ë ˆì´ì•„ì›ƒ Â· ë©”ì¸/ìš°ì¸¡ ì»¬ëŸ¼ ë¹„ìœ¨ ì „ëµ â€“ HOME/VIEWì™€ ë™ì¼ ë°©í–¥]
         *
         * - ëª©í‘œ:
         * 1) ë°ìŠ¤í¬íƒ‘ì—ì„œ ìš°ì¸¡ ì‚¬ì´ë“œë°” ë‚´ ë°•ìŠ¤í˜•/ì„¸ë¡œí˜• ê´‘ê³ ê°€ ì•ˆì •ì ìœ¼ë¡œ ë…¸ì¶œë˜ë„ë¡,
         * ì»¨í…Œì´ë„ˆ í­ì„ ê³ ì •(336px)ìœ¼ë¡œ í™•ë³´
         * 2) ëª¨ë°”ì¼/íƒœë¸”ë¦¿ì—ì„œëŠ” ìš°ì¸¡ ì»¬ëŸ¼ì´ ë©”ì¸ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ë©° í­ 100% ì‚¬ìš©
         *
         * - ì „ëµ:
         * - .main-content : flex: 1 1 auto; â†’ ë‚¨ëŠ” ì˜ì—­ì„ ìœ ì—°í•˜ê²Œ ì°¨ì§€
         * - .sidebar      :
         * Â· ë°ìŠ¤í¬íƒ‘(â‰¥1025px): flex: 0 0 336px; min-width/max-width: 336px
         * â†’ HOME GPTì™€ ë™ì¼í•œ ì‚¬ì´ë“œë ˆì¼ í­ ì •ì±…
         * Â· ëª¨ë°”ì¼/íƒœë¸”ë¦¿(â‰¤1024px): width:100%; flex:1 1 auto; min-width:0
         * â†’ í­ 100%ë¥¼ ì‚¬ìš©í•˜ë©°, min-width ì œì•½ ì œê±°
         */
        .main-content {
            flex: 1 1 auto;
            min-width: 0;
        }

        .sidebar {
            /* * [ì‚¬ì´ë“œë°” ê³µí†µ ìŠ¤íƒ€ì¼]
             * - ì™¸ê³½ ì»¨í…Œì´ë„ˆì—ëŠ” paddingì„ ë‘ì§€ ì•Šê³ , í­ë§Œ ì‚¬ì´ë“œë ˆì¼ ì •ì±…ì— ë§ì¶° í™•ë³´í•©ë‹ˆë‹¤.
             * - í…ìŠ¤íŠ¸/ì½˜í…ì¸  ì—¬ë°±ì€ .sidebar-box ë“± ë‚´ë¶€ ìš”ì†Œì—ì„œ paddingìœ¼ë¡œ ì œì–´í•©ë‹ˆë‹¤.
             * - ê´‘ê³  ìŠ¬ë¡¯(.ad-slot)ì€ ì‚¬ì´ë“œë°” í­ì„ ê·¸ëŒ€ë¡œ í™œìš©í•˜ì—¬,
             * 336x280 / 300x600 / 300x250 ë“±ì˜ ì†Œì¬ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë…¸ì¶œë˜ë„ë¡ í•©ë‹ˆë‹¤.
             */
            background-color: #fff;
            padding: 0;                 /* ğŸ”§ ì™¸ê³½ ì»¨í…Œì´ë„ˆëŠ” padding 0 ìœ ì§€ */
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        /*
         * [ê´‘ê³  ê³µí†µ Â· .ad-slot ì„¤ëª… â€“ View/HOMEì™€ ë§ì¶˜ ì „ëµ]
         *
         * - GAM ìŠ¬ë¡¯ì´ ë¶™ëŠ” ëª¨ë“  DIVì˜ ê³µí†µ ë˜í¼ì…ë‹ˆë‹¤.
         *
         * - í•µì‹¬ ì „ëµ:
         * 1) í­(width): ë¶€ëª¨ ì»¨í…Œì´ë„ˆ(ë©”ì¸, ì‚¬ì´ë“œë°” ë“±)ì˜ 100%ë¥¼ ì‚¬ìš©
         * â†’ ì‹¤ì œ ê´‘ê³  í¬ê¸° ì œì•½ì€ GAM sizeMapping + ìƒìœ„ ë ˆì´ì•„ì›ƒ(.sidebar min-width)ì—ì„œ ê´€ë¦¬
         * 2) ë†’ì´(height/min-height): ê°•ì œí•˜ì§€ ì•Šê³ , ì‹¤ì œ í¬ë¦¬ì—ì´í‹°ë¸Œ/iframe ë†’ì´ì— ë§¡ê¹€
         * â†’ PageSettingsConfig.collapseDiv = 'BEFORE_FETCH'ì™€ ì¡°í•©í•˜ì—¬
         * ê´‘ê³  ë¯¸ì§‘í–‰ ì‹œ ë¶ˆí•„ìš”í•œ ê³µë°± ìµœì†Œí™”
         * 3) label(Advertisement) ê³µê°„ë§Œ padding-topìœ¼ë¡œ í™•ë³´
         * 4) flex ì»¨í…Œì´ë„ˆë¡œ ë™ì‘ì‹œì¼œ, ë‹¤ì–‘í•œ ì‚¬ì´ì¦ˆì˜ ë°°ë„ˆë¥¼ ì¤‘ì•™ ì •ë ¬
         *
         * - ì£¼ì˜ì‚¬í•­:
         * - ì—¬ê¸°ì—ì„œ height ë˜ëŠ” min-heightë¥¼ ë‹¤ì‹œ ê°•ì œí•˜ë©´
         * "ê´‘ê³ ê°€ ì—†ì„ ë•Œë„ ê³ ì • ë†’ì´ ê³µë°±ì´ ë‚¨ëŠ”" ë¬¸ì œê°€ ì¬ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         * - ë””ë²„ê¹…ìš© í…Œë‘ë¦¬ê°€ í•„ìš”í•˜ë©´ ë³„ë„ .debug-ad-slot í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´
         * ì„ì‹œë¡œ ì ìš©í•˜ëŠ” ë°©ì‹ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
         */
        .ad-slot {
            position: relative; 
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            font-size: 14px;
            font-weight: bold;
            box-sizing: border-box;
            border: none;               /* ê¸°ë³¸ ìƒíƒœì—ì„œëŠ” í…Œë‘ë¦¬ ì œê±° (í¬ë¦¬ì—ì´í‹°ë¸Œë§Œ ë…¸ì¶œ) */
            padding: 10px 0 0 0;          /* ìƒë‹¨ 10px íŒ¨ë”© (ë¼ë²¨ ê³µê°„ í™•ë³´) */
            background-color: transparent; 
            width: 100%;                  /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆ í­ 100% ì‚¬ìš© */
            height: auto;                 /* ë†’ì´ëŠ” ì‹¤ì œ ê´‘ê³  í¬ë¦¬ì—ì´í‹°ë¸Œì— ì˜í•´ ê²°ì • */
            line-height: 1.5;
            overflow: visible;
            color: transparent;           /* ìŠ¬ë¡¯ ë‚´ë¶€ í…ìŠ¤íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            z-index: 10;
        }

        /*
         * [ê´‘ê³  ê³µí†µ Â· .gam-container]
         * - í˜„ì¬ Section GPT ë§ˆí¬ì—…ì—ëŠ” ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ,
         * HOME/VIEWì™€ ë™ì¼í•œ íŒ¨í„´ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
         * - í•„ìš” ì‹œ .ad-slot ì•ˆìª½ì— <div class="gam-container">ë¥¼ ì¶”ê°€í•˜ì—¬
         * GPT iframeì„ í•œ ë²ˆ ë” ê°ì‹¸ê³ , ì´ ë ˆë²¨ì—ì„œ ì¤‘ì•™ ì •ë ¬ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         *
         * - min-heightëŠ” 0ìœ¼ë¡œ ë‘ì–´, ê´‘ê³ ê°€ ì—†ì„ë•Œë„ ì—¬ë¶„ ê³µë°±ì´ ìƒê¸°ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.
         */
        .gam-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-grow: 1;
            min-height: 0;
        }
        
        /* * [ê°œë³„ ID ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”]
         * - TC_billboard_leaderboard / MR_halfpage_rectangleì— ëŒ€í•´ì„œëŠ”
         * ë°°ê²½/í…Œë‘ë¦¬ë¥¼ íˆ¬ëª… ì²˜ë¦¬í•˜ì—¬ í¬ë¦¬ì—ì´í‹°ë¸Œë§Œ ìì—°ìŠ¤ëŸ½ê²Œ ë…¸ì¶œë˜ë„ë¡ í•©ë‹ˆë‹¤.
         * - ê°œë°œ/ë””ë²„ê¹… ì‹œ ê° ìŠ¬ë¡¯ì˜ ì˜ì—­ í™•ì¸ì´ í•„ìš”í•˜ë©´,
         * ì—¬ê¸°ì— ì„ì‹œ ë°°ê²½ìƒ‰/í…Œë‘ë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  ë³„ë„ì˜ ë””ë²„ê·¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
         */
        #TC_billboard_leaderboard, #MR_halfpage_rectangle { 
            background-color: transparent !important; 
            border: none !important; 
        }

        /*
         * [ë””ë²„ê¹…ìš© ìƒíƒœ í´ë˜ìŠ¤ Â· .ad-loaded]
         * - ê´‘ê³ ê°€ ì‹¤ì œ ì±„ì›Œì§„ ìŠ¬ë¡¯ì—ë§Œ ë™ì ìœ¼ë¡œ ë¶€ì—¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ìƒíƒœ í‘œí˜„ìš© í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
         * - í˜„ì¬ Section GPTì—ì„œëŠ” JSì—ì„œ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ,
         * slotRenderEnded ì½œë°±ì—ì„œ event.isEmpty === falseì¸ ê²½ìš°ì—ë§Œ ì¶”ê°€í•˜ëŠ” ë“±
         * í–¥í›„ ë””ë²„ê¹…ì— í™œìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
         */
        .ad-loaded { background-color: #c00 !important; color: #fff; }
        
        /* âœ… View GPT / HOME GPTì™€ í†µì¼ëœ ê´‘ê³  ë¼ë²¨ ìŠ¤íƒ€ì¼ */
        /*
         * [ê³µí†µ Â· mk-ad-label (Advertisement ë¼ë²¨)]
         * - ê´‘ê³  ìŠ¬ë¡¯ ìƒë‹¨ì— "Advertisement" ë¼ë²¨ì„ ë…¸ì¶œí•˜ëŠ” ì—­í• ì…ë‹ˆë‹¤.
         * - ê³µí†µ ì •ì±…:
         * - position: absolute;
         * - top: -15px;  â†’ ìŠ¬ë¡¯ ë°”ê¹¥ìª½ ìƒë‹¨ì— ë–  ìˆë„ë¡ ë°°ì¹˜
         * - transform: translateX(-50%) + left: 50%; â†’ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬
         * - font-size: 13px, font-weight: normal (ë³¼ë“œ ì•„ë‹˜)
         * - text-transform: uppercase â†’ 'ADVERTISMENT'ì²˜ëŸ¼ ëŒ€ë¬¸ì í‘œê¸°
         * - Section/HOME/VIEW/LIST GPT ëª¨ë‘ ë™ì¼í•œ ìŠ¤íƒ€ì¼ë¡œ ìœ ì§€í•˜ì—¬,
         * í˜ì´ì§€ ì¢…ë¥˜ì— ìƒê´€ì—†ì´ ê´‘ê³  ë¼ë²¨ì´ ì¼ê´€ë˜ê²Œ ë³´ì´ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
         */
        .mk-ad-label {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            padding: 0;
            background-color: transparent;
            border: none;
            color: #5A5A5A;
            font-size: 13px;        /* í†µì¼ëœ í°íŠ¸ í¬ê¸° */
            font-weight: normal;    /* ë³¼ë“œ í•´ì œ */
            text-transform: uppercase;
            line-height: 1;
            white-space: nowrap;
        }
        
        /* â–¼â–¼â–¼ ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ (View / HOME GPTì™€ ì •ì±… í†µì¼) â–¼â–¼â–¼ */
        @media (prefers-color-scheme: dark) {
            body { background-color: #1a1a1a; color: #e0e0e0; } 
            a { color: #ccc; } 

            /* í—¤ë” & ë‚´ë¹„ê²Œì´ì…˜ */
            header { background-color: #1a1a1a; border-bottom-color: #444; }
            .logo { color: #e0e0e0 !important; }
            nav { background-color: #1a1a1a; border-bottom: 2px solid #666; }
            .nav-list li { border-right-color: #444; color: #ddd; }
            .nav-list li:first-child { color: #ff5a5a; }

            /* ë©”ì¸ ì»¨í…ì¸  ë°•ìŠ¤, ì‚¬ì´ë“œë°” ë°•ìŠ¤ */
            .sidebar,
            .sidebar-box,
            .article-list,
            section.sidebar-box { 
                background-color: #1a1a1a !important; 
                border-color: #444 !important; 
            }

            .main-content { color: #e0e0e0; }

            .article-item { border-bottom-color: #333 !important; }
            .article-thumb { background-color: #333; } 

            /* í—¤ë“œë¼ì¸ / í…ìŠ¤íŠ¸ ê³„ì—´ */
            h2, h3, h4, p,
            .article-info h3,
            .section-header {
                color: #e0e0e0 !important;
            }

            .section-header { 
                color: #5ab6ff !important; 
                border-left-color: #5ab6ff !important;
            }

            .ranking-list li { color: #ccc; }

            /* ğŸ” ì‹¬ì¸µ ë¶„ì„ / ğŸ“ Policy Briefing ë°•ìŠ¤ */
            .spacer-section {
                background-color: #1a1a1a;   /* ë‹¤í¬ ëª¨ë“œì—ì„œ ë³¸ë¬¸ê³¼ ë™ì¼í•œ ë°°ê²½ */
            }
            .spacer-section:not([style*="border-left-color"]) {
                border-left-color: #900;
            }
            .spacer-section h3,
            .spacer-section p {
                color: #e0e0e0 !important;
            }

            /* âœ… ê´‘ê³  ë¼ë²¨ ë‹¤í¬ ëª¨ë“œ ë°˜ì „ (View / HOMEì™€ ë™ì¼ ì •ì±…) */
            .mk-ad-label { 
                background-color: transparent; 
                color: #A0A0A0;   /* ë¼ì´íŠ¸(#5A5A5A) â†’ ë‹¤í¬(#A0A0A0)ë¡œ ë°˜ì „ */
                border: none;
            }

            /* ê´‘ê³  ìŠ¬ë¡¯ì€ ë°°ê²½/í…Œë‘ë¦¬ íˆ¬ëª… ìœ ì§€ (ë ˆì´ì•„ì›ƒ ì™œê³¡ ë°©ì§€) */
            .ad-slot {
                border-color: transparent;
                background-color: transparent;
            }
        }
        /* â–²â–²â–² ë‹¤í¬ ëª¨ë“œ ìŠ¤íƒ€ì¼ ë â–²â–²â–² */

        /* ------------------------------
           ë°ìŠ¤í¬íƒ‘ ë ˆì´ì•„ì›ƒ (>= 1025px)
           - ìš°ì¸¡ ì‚¬ì´ë“œë°” ì»¨í…Œì´ë„ˆ í­ 336px í™•ë³´ (padding 0 ê¸°ì¤€)
           - 336x280 / 300x600 / 300x250 ë“± ì„¸ë¡œí˜• ê´‘ê³ ê°€ ê¸°ì¤€ í­ 336px ì•ˆì—ì„œ ë…¸ì¶œ
        ------------------------------ */
        @media (min-width: 1025px) {
            .sidebar {
                flex: 0 0 336px;   /* ğŸ”§ HOME GPTì™€ ë™ì¼: ê³ ì • í­ 336px */
                min-width: 336px;
                max-width: 336px;  /* í•„ìš”ì‹œ ìµœëŒ€ í­ë„ 336pxë¡œ ê³ ì • â†’ ìš°ì¸¡ ë ˆì¼ ì¼ê´€ì„± í™•ë³´ */
            }
        }
        
        @media (max-width: 1024px) {
            /*
             * [ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ Â· Section ì „ìš© â€“ HOME/VIEWì™€ ë™ì¼ ë°©í–¥]
             * - 1024px ì´í•˜ì—ì„œëŠ” ë©”ì¸/ì‚¬ì´ë“œ ì˜ì—­ì„ ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ìŠ¤íƒí•©ë‹ˆë‹¤.
             * - .sidebarëŠ” í­ 100%ë¥¼ ì‚¬ìš©í•˜ë©°, min-width ì œì•½ì„ ì œê±°í•©ë‹ˆë‹¤.
             * - MR_halfpage_rectangle(ad-2-mr)ëŠ” ìƒë‹¨ ì—¬ë°±ë§Œ ì•½ê°„ ë¶€ì—¬í•˜ê³ ,
             * ë†’ì´ëŠ” ê´‘ê³  í¬ë¦¬ì—ì´í‹°ë¸Œì— ë§¡ê¹ë‹ˆë‹¤.
             */
            .content-wrap { flex-direction: column; }

            .sidebar {
                width: 100%;
                flex: 1 1 auto;
                min-width: 0;
            }

            .ad-2-mr { 
                margin-top: 15px; 
                /* min-heightëŠ” ì œê±° â†’ ê´‘ê³  ì—†ëŠ” ê²½ìš° ê³µë°±ì„ ê°•ì œí•˜ì§€ ì•ŠìŒ */
            }
        }

        @media (max-width: 600px) {
            .article-item { flex-direction: column; align-items: center; text-align: center; }
            .article-thumb { width: 100%; height: 150px; margin-right: 0; margin-bottom: 10px; }
        }
        
        .sidebar-box { background-color: #fff; padding: 15px; border: 1px solid #ddd; margin-bottom: 20px; border-radius: 5px; }
        .article-list { list-style: none; padding: 0; margin: 0; }
        .article-item { display: flex; padding: 15px 0; border-bottom: 1px solid #eee; align-items: flex-start; }
        .article-thumb { width: 120px; height: 80px; background-color: #ddd; flex-shrink: 0; margin-right: 15px; border-radius: 3px; }
        .article-info h3 { font-size: 16px; margin: 0 0 5px 0; font-weight: bold; line-height: 1.4; color: #333; }
        .section-header { font-size: 20px; font-weight: bold; color: #0056b3; border-left: 5px solid #0056b3; padding-left: 10px; margin-bottom: 20px; }
        .ranking-list { list-style: none; padding: 0; margin: 0; }
        .ranking-list li { font-size: 14px; margin-bottom: 8px; padding-left: 20px; position: relative; }
        .spacer-section { background-color: #e9e9e9; padding: 20px; margin-bottom: 20px; border-left: 5px solid #c00; border-radius: 5px; }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <div class="logo">SECTION GPT</div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-list">
                <li>ì¢…í•©</li>
                <li>**ê²½ì œ**</li>
                <li>ë¶€ë™ì‚°</li>
                <li>ì¦ê¶Œ</li>
                <li>ì˜¤í”¼ë‹ˆì–¸</li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        
        <div id="TC_billboard_leaderboard" class="ad-slot ad-1-tc">
            
        </div>

        <div class="content-wrap">
            <div class="main-content">
                
                <h2 class="section-header">TODAY'S TOP NEWS LIST</h2>
                
                <section class="sidebar-box" style="padding: 20px;">
                    <article style="margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid #f0f0f0;">
                        <div style="width: 100%; height: 250px; background-color: #ccc; margin-bottom: 10px; border-radius: 5px;">[Feature Image Placeholder]</div>
                        <h3 style="font-size: 24px; color: #000; margin-bottom: 5px;">**[íŠ¹ì§‘] ê¸ˆë¦¬ ì¸ìƒ ì‚¬ì´í´ ì¢…ë£Œ ì„ë°•? ì‹œì¥ ë³€ë™ì„± í™•ëŒ€ ë¶„ì„**</h3>
                    </article>

                    <ul class="article-list">
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>AI ë°˜ë„ì²´ ê¸°ìˆ  ê²½ìŸ ê²©í™”, K-ê¸°ì—…ì˜ íˆ¬ì ì „ëµì€?</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>ì²­ë…„ ì£¼ê±° ì•ˆì • ìœ„í•œ íŠ¹ë³„ ëŒ€ì¶œ ìƒí’ˆ ì¶œì‹œ ì„ë°•</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>ìœ ëŸ½ ì¦ì‹œ, ì—ë„ˆì§€ ê°€ê²© í•˜ë½ì— í˜ì…ì–´ ì¼ì œíˆ ìƒìŠ¹ì„¸ ê¸°ë¡</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>[ë‹¨ë…] ì£¼ìš” ê·¸ë£¹, í•˜ë°˜ê¸° ì‹ ì… ì±„ìš© ê·œëª¨ ì—­ëŒ€ê¸‰ í™•ëŒ€</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>ê¸€ë¡œë²Œ ê²½ê¸° ì¹¨ì²´ ì†, ì¤‘ì†Œê¸°ì—…ì˜ ëŒíŒŒêµ¬ëŠ”?</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>í™˜ìœ¨ ë³€ë™ì„± í™•ëŒ€... ìˆ˜ì¶œ ê¸°ì—…ì˜ ëŒ€ì‘ ì „ëµ ë¶„ì„</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>ë¹„íŠ¸ì½”ì¸, ì£¼ìš” ì €í•­ì„  ëŒíŒŒ ì‹œë„... íˆ¬ì ì‹¬ë¦¬ íšŒë³µ</h3></div>
                        </li>
                    </ul>
                </section>

                <div class="spacer-section">
                    <h3>ğŸ” ì‹¬ì¸µ ë¶„ì„ ë¦¬í¬íŠ¸ (ìŠ¤í¬ë¡¤ ìœ ë„)</h3>
                </div>

            </div>
            
            <div class="sidebar">
                
                <div class="sidebar-box">
                    <h4>ì¸ê¸° ë‰´ìŠ¤ ë­í‚¹ (TOP 10)</h4>
                    <ul class="ranking-list">
                        <li><a href="#">ë¶€ë™ì‚°: 9.1 ëŒ€ì±… ì´í›„ ì‹œì¥ ë°˜ì‘ ë¶„ì„</a></li>
                        <li><a href="#">ì¦ê¶Œ: ê°œë¯¸ íˆ¬ììë“¤ì´ ì£¼ëª©í•´ì•¼ í•  ì„¹í„°</a></li>
                        <li><a href="#">ì‚¬íšŒ: ì²­ë…„ ì¸êµ¬ ê°ì†Œì˜ ê²½ì œì  íŒŒê¸‰ íš¨ê³¼</a></li>
                        <li><a href="#">ì •ì±…: êµ­íšŒ í†µê³¼ëœ ì£¼ìš” ë²•ì•ˆ í•´ì„¤</a></li>
                        <li><a href="#">IT: ì°¨ì„¸ëŒ€ AI ê¸°ìˆ  ë™í–¥ê³¼ ì‹œì¥ ì „ë§</a></li>
                        <li><a href="#">ì •ì¹˜: ì—¬ì•¼ ì›ë‚´ëŒ€í‘œ, ì£¼ë§ íšŒë™ ì „ê²© í•©ì˜</a></li>
                        <li><a href="#">ê¸ˆìœµ: ì€í–‰ê¶Œ, ì‹ ê·œ ëŒ€ì¶œ ê¸ˆë¦¬ ì¸í•˜ ê²½ìŸ ì‹œì‘</a></li>
                        <li><a href="#">ì‚°ì—…: ì „ê¸°ì°¨ ë°°í„°ë¦¬ ì†Œì¬ í™•ë³´ ë¹„ìƒ</a></li>
                        <li><a href="#">ê¸€ë¡œë²Œ: ë¯¸êµ­ ì¸í”Œë ˆì´ì…˜ ì§€í‘œ ë°œí‘œ ì„ë°•</a></li>
                        <li><a href="#">ë¬¸í™”: K-íŒ ê·¸ë£¹, ë¹Œë³´ë“œ ì°¨íŠ¸ ì¬ì§„ì… ì„±ê³µ</a></li>
                    </ul>
                </div>
                
                <div id="MR_halfpage_rectangle" class="ad-slot ad-2-mr">
                    
                </div>

                <div class="sidebar-box">
                    <h4>ì˜¤ëŠ˜ì˜ ì‚¬ì„¤</h4>
                    <p style="font-size: 13px;">ê²½ì œë¥¼ ì‚´ë¦¬ëŠ” ê¸¸, ê·œì œ ì™„í™”ê°€ í•´ë‹µì¸ê°€.</p>
                </div>
            </div>
        </div>
        
        <div class="content-wrap" style="margin-top: 20px;">
            <div class="main-content">
                <section class="sidebar-box" style="padding: 20px;">
                    <h3 style="font-size: 20px; color: #000; margin-bottom: 10px;">Deep Dive: Global Economy</h3>
                    <ul class="article-list">
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>[ì‹¬ì¸µ] ë¯¸êµ­, ê¸´ì¶• ì •ì±… ì¥ê¸°í™” ì‹œì‚¬... ì„¸ê³„ ê²½ì œ ì˜í–¥ì€?</h3></div>
                        </li>
                        <li class="article-item">
                            <div class="article-thumb">[Image Placeholder]</div>
                            <div class="article-info"><h3>ì¤‘êµ­ ê²½ì œ, 'ë‚´ìˆ˜ ë¶€ì§„' ê·¸ë¦¼ì... ë””í”Œë ˆì´ì…˜ ìš°ë ¤ ê³ ì¡°</h3></div>
                        </li>
                    </ul>
                </section>
                <div class="spacer-section" style="border-left-color: #38761d;">
                    <h3>ğŸ“ Policy Briefing</h3>
                    <p style="font-size: 16px;">**ì •ë¶€, ì €ì¶œì‚° ëŒ€ì±… ë°œí‘œ... íŒŒê²©ì ì¸ ì£¼ê±° ì§€ì› ë°©ì•ˆ í¬í•¨**</p>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="sidebar-box">
                    <h4>ë§¤ê²½ í”„ë¦¬ë¯¸ì—„ ë¦¬í¬íŠ¸</h4>
                    <ul class="ranking-list" style="list-style-type: disc;">
                        <li>ë¯¸ë˜ì°¨ ë°°í„°ë¦¬ íŒ¨ê¶Œ ì „ìŸ, í•µì‹¬ ê¸°ìˆ  ë¶„ì„</li>
                        <li>K-ì»¬ì³ ê²½ì œì  íŒŒê¸‰ íš¨ê³¼ ë³´ê³ ì„œ</li>
                    </ul>
                </div>
            </div>
        </div>
        
    </div>

    <footer>
        <p style="text-align: center; padding: 15px; background-color: #333; color: white; margin-top: 0;">
            &copy; 2025 Mockup Site.
        </p>
    </footer>

    <script>
        // ----------------------------------------------------------
        // [Lazy Load ì¸í”„ë¼: ğŸ’¡ ìˆ˜ì • ì‘ì—… 3. ì œì™¸ ë¦¬ìŠ¤íŠ¸ ë°©ì‹ ìµœì í™”]
        //
        // - ì´ ë¸”ë¡ì€ View/Home/Section/List GPTì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”
        //   IntersectionObserver ê¸°ë°˜ Lazy Load êµ¬í˜„ íŒ¨í„´ì…ë‹ˆë‹¤.
        //
        // - ğŸ’¡ [ìˆ˜ì • ì‘ì—… 3] ìµœì í™”: ì†Œìˆ˜ì˜ FALSE(ì¦‰ì‹œ ë¡œë“œ) ìŠ¬ë¡¯ë§Œ ê´€ë¦¬í•˜ëŠ” ì œì™¸ ë°©ì‹
        //   Â· LAZY_AD_SLOT_IDS (ìƒìˆ˜) â†’ EAGER_AD_SLOT_IDS (ê´€ë¦¬ í¬ì¸íŠ¸)ë¡œ ë³€ê²½
        //   Â· ì œì™¸ ëª©ë¡ì— ì—†ëŠ” ìŠ¬ë¡¯ë§Œ ìë™ìœ¼ë¡œ Lazy Load ëŒ€ìƒìœ¼ë¡œ ìˆ˜ì§‘
        //
        // - êµ¬ì„± ìš”ì†Œ:
        //   Â· EAGER_AD_SLOT_IDS     : ì¦‰ì‹œ ë¡œë“œ(Eager) ëŒ€ìƒ ê´‘ê³  div id ë¦¬ìŠ¤íŠ¸
        //   Â· lazyAdSlotsHTML       : DOMì—ì„œ ê´€ì°°í•  ì‹¤ì œ ìš”ì†Œ ëª©ë¡ (ìë™ ìˆ˜ì§‘)
        //   Â· lazyGamSlots          : GAMì— ì •ì˜ëœ ìŠ¬ë¡¯ ê°ì²´ ëª©ë¡ (ìë™ ìˆ˜ì§‘)
        //   Â· lazyObserver          : IntersectionObserver ì¸ìŠ¤í„´ìŠ¤
        //
        // - ë™ì‘ íë¦„:
        //   1) DOMContentLoaded ì‹œ:
        //      Â· setupLazyLoading()             â†’ Lazy ëŒ€ìƒ ìë™ ìˆ˜ì§‘ (Eager ì œì™¸) + Eager ìŠ¬ë¡¯ ì¦‰ì‹œ refresh
        //      Â· startObservingLazySlots()      â†’ IntersectionObserver ê´€ì°° ì‹œì‘
        //   2) ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤í•´ì„œ ê´‘ê³  divê°€ ë·°í¬íŠ¸ ê·¼ì²˜ì— ë„ë‹¬í•˜ë©´:
        //      Â· observer ì½œë°±ì—ì„œ í•´ë‹¹ slotIdì— ëŒ€í•´
        //        googletag.display(slotId) + pubads().refresh([slot]) í˜¸ì¶œ
        //   3) í•œ ë²ˆ ë¡œë“œëœ ìŠ¬ë¡¯ì€ unobserve ì²˜ë¦¬í•˜ì—¬ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
        // ----------------------------------------------------------

        // 1. ë””ë°”ì´ìŠ¤ ì¹´í…Œê³ ë¦¬ í™•ì¸ ë¡œì§ ì¬ì‚¬ìš©
        const userAgentLazy = navigator.userAgent.toLowerCase();
        const widthLazy = window.innerWidth;
        const isDesktopLazy = !(/mobile|android|iphone|ipod/.test(userAgentLazy) && !/ipad/.test(userAgentLazy)) && widthLazy > 1024;

        /*
         * ğŸ’¡ [ìˆ˜ì • ì‘ì—… 1, 3] ì¦‰ì‹œ ë¡œë”©(Eager)ì´ í•„ìš”í•œ ìŠ¬ë¡¯ë§Œ ì •ì˜ (ì†Œìˆ˜ ê´€ë¦¬)
         * - Section GPT ì •ì±…:
         * Â· TC_billboard_leaderboard: All devices FALSE (Eager)
         * Â· MR_halfpage_rectangle: Desktop FALSE (Eager) / Others TRUE (Lazy)
         */
        const EAGER_AD_SLOT_IDS = [
            'TC_billboard_leaderboard' // ìƒë‹¨ ë¹Œë³´ë“œ (í•­ìƒ ì¦‰ì‹œ ë¡œë“œ)
        ];

        // ğŸ’¡ [ìˆ˜ì • ì‘ì—… 1] MRì€ ë°ìŠ¤í¬íƒ‘ì¼ ë•Œë§Œ Eager ëª©ë¡ì— ì¶”ê°€
        if (isDesktopLazy) {
            EAGER_AD_SLOT_IDS.push('MR_halfpage_rectangle');
        }

        let lazyAdSlotsHTML = []; 
        let lazyGamSlots = [];    
        let lazyObserver = null;  

        // ==========================================================
        // í•¨ìˆ˜ 1. Lazy Load ëŒ€ìƒ ê´‘ê³  ìŠ¬ë¡¯ ì„¤ì • ë° Observer ìƒì„±
        // ==========================================================
        function setupLazyLoading() {
            /*
             * [1ë‹¨ê³„ Â· DOMì—ì„œ Lazy ëŒ€ìƒ ìŠ¬ë¡¯ ìˆ˜ì§‘ (ì œì™¸ ë¦¬ìŠ¤íŠ¸ ë°©ì‹)]
             * - .ad-slot í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œë¥¼ ìˆœíšŒí•©ë‹ˆë‹¤.
             * - ğŸ’¡ [ìˆ˜ì •] IDê°€ EAGER_AD_SLOT_IDSì— 'í¬í•¨ë˜ì§€ ì•Šì€' ê²ƒë§Œ Lazy ëŒ€ìƒìœ¼ë¡œ ë“±ë¡í•©ë‹ˆë‹¤.
             * - ì´ ë°°ì—´ì€ IntersectionObserverê°€ ì–´ë–¤ ìš”ì†Œë¥¼ ê´€ì°°í•´ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•˜ëŠ” ê¸°ì¤€ì…ë‹ˆë‹¤.
             */
            const allAdSlots = document.querySelectorAll('.ad-slot');
            lazyAdSlotsHTML = [];

            allAdSlots.forEach(slot => {
                // ğŸ’¡ [ìˆ˜ì • ì‘ì—… 3] IDê°€ EAGER_AD_SLOT_IDSì— 'í¬í•¨ë˜ì§€ ì•Šì€' ê²ƒë§Œ Lazy ëŒ€ìƒìœ¼ë¡œ ë“±ë¡
                if (!EAGER_AD_SLOT_IDS.includes(slot.id)) {
                    lazyAdSlotsHTML.push(slot);
                }
            });

            /*
             * [2ë‹¨ê³„ Â· GAMì— ì •ì˜ëœ ìŠ¬ë¡¯ ê°ì²´ í•„í„°ë§ ë° Eager ìŠ¬ë¡¯ ì¦‰ì‹œ í˜¸ì¶œ]
             * - googletag.pubads().getSlots()ë¡œ í˜„ì¬ í˜ì´ì§€ì— ì •ì˜ëœ ëª¨ë“  ìŠ¬ë¡¯ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
             * - ğŸ’¡ [ìˆ˜ì •] ì œì™¸ ëª©ë¡ì— ì—†ëŠ” ìŠ¬ë¡¯ë§Œ lazyGamSlotsì— ì €ì¥í•©ë‹ˆë‹¤.
             * - ğŸ’¡ [ì¶”ê°€] ì œì™¸ ëª©ë¡ì— ìˆëŠ” ìŠ¬ë¡¯(Eager)ì€ ì´ ì‹œì ì— ì¦‰ì‹œ refresh()ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
             */
            lazyGamSlots = [];
            if (window.googletag && googletag.cmd) {
                googletag.cmd.push(function() {
                    const definedSlots = googletag.pubads().getSlots();
                    
                    // 1. Lazy ëŒ€ìƒ í•„í„°ë§ (ì œì™¸ ëª©ë¡ì— ì—†ëŠ” ê²ƒ)
                    lazyGamSlots = definedSlots.filter(slot =>
                        !EAGER_AD_SLOT_IDS.includes(slot.getSlotElementId())
                    );

                    // 2. Eager ëŒ€ìƒ í•„í„°ë§ (ì œì™¸ ëª©ë¡ì— ìˆëŠ” ê²ƒ)
                    const eagerSlots = definedSlots.filter(slot =>
                        EAGER_AD_SLOT_IDS.includes(slot.getSlotElementId())
                    );

                    // 3. Eager ìŠ¬ë¡¯ ì¦‰ì‹œ í˜¸ì¶œ
                    // - TC_billboard_leaderboardëŠ” ìƒë‹¨ scriptì—ì„œ ì´ë¯¸ í˜¸ì¶œë˜ì—ˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
                    // - ì—¬ê¸°ì„œëŠ” MR_halfpage_rectangle(ë°ìŠ¤í¬íƒ‘) ë“± TC ì™¸ì˜ Eager ìŠ¬ë¡¯ë§Œ í˜¸ì¶œí•©ë‹ˆë‹¤.
                    const eagerSlotsToRefresh = eagerSlots.filter(s => s.getSlotElementId() !== 'TC_billboard_leaderboard');
                    
                    if (eagerSlotsToRefresh.length > 0) {
                        eagerSlotsToRefresh.forEach(s => googletag.display(s.getSlotElementId()));
                        googletag.pubads().refresh(eagerSlotsToRefresh);
                        console.log("âš¡ [Eager Load] Immediate refresh for:", eagerSlotsToRefresh.map(s => s.getSlotElementId()));
                    }
                });
            }
            
            /**
             * [ê°ê´€ì  ìµœì í™”: ë””ë°”ì´ìŠ¤ë³„ rootMargin ë™ì  í• ë‹¹]
             * - í•œêµ­ì˜ ì•ˆì •ì ì¸ ë„¤íŠ¸ì›Œí¬ ì¸í”„ë¼ì™€ ì‚¬ìš©ì ìŠ¤í¬ë¡¤ ì†ë„ë¥¼ ê³ ë ¤í•œ 'ìŠ¤ìœ— ìŠ¤íŒŸ' ìˆ˜ì¹˜ ì ìš©
             * - Smartphone: 600px (ë¹ ë¥¸ í”Œë¦­ ìŠ¤í¬ë¡¤ ëŒ€ì‘)
             * - Tablet: 500px (ë„“ì€ í™”ë©´ë¹„ ê³ ë ¤)
             * - Desktop: 400px (ê¸€ë¡œë²Œ ë¯¸ë””ì–´ í‘œì¤€ê°’)
             */
            // --- IntersectionObserver ì˜µì…˜ ì„¤ì • (ë””ë°”ì´ìŠ¤ë³„ rootMargin ìµœì í™”) ---

            const ua = navigator.userAgent.toLowerCase();
            const width = window.innerWidth;
            let marginValue = '400px'; // Desktop ê¸°ë³¸ê°’

            // 1. Smartphone íŒë³„ ë¡œì§ ì ìš© (Mobile UAì´ë©´ì„œ iPadê°€ ì•„ë‹ˆê±°ë‚˜, í­ì´ 768px ì´í•˜)
            if ((/mobile|android|iphone|ipod/.test(ua) && !/ipad/.test(ua)) || width <= 768) {
                marginValue = '600px'; // Smartphone: ëª¨ë°”ì¼ì˜ ë¹ ë¥¸ ìŠ¤í¬ë¡¤ì„ ê³ ë ¤í•˜ì—¬ ê°€ì¥ ë„“ì€ ì—¬ë°± ì„¤ì •
            } 
            // 2. Tablet íŒë³„ ë¡œì§ ì ìš© (iPad/Tablet UAì´ê±°ë‚˜, í­ì´ 1024px ì´í•˜)
            else if (/ipad|tablet/.test(ua) || width <= 1024) {
                marginValue = '500px'; // Tablet: ì¤‘ê°„ ì •ë„ì˜ ì—¬ë°± ì„¤ì •
            }
            // 3. ê·¸ ì™¸: Desktop (ê¸°ë³¸ê°’ 400px ìœ ì§€)
            // IntersectionObserver ìƒì„±
            /*
             * - root Â  Â  Â : null â†’ ë¸Œë¼ìš°ì € viewport ê¸°ì¤€
             * - rootMargin: ë™ì ìœ¼ë¡œ í• ë‹¹ëœ marginValue ì ìš©
             * â†’ ì‹¤ì œ ë·°í¬íŠ¸ í•˜ë‹¨ë³´ë‹¤ ì§€ì •ëœ í”½ì…€ë§Œí¼ ì•ì„œ ë¯¸ë¦¬ ë¡œë”© ì‹œì‘(í”„ë¦¬ë¡œë”© íš¨ê³¼)
             * - threshold : 0.0
             * â†’ ìš”ì†Œê°€ 1pxë§Œ ë³´ì´ê¸° ì‹œì‘í•´ë„ isIntersecting === true
             */
            const options = {
                root: null,
                rootMargin: `0px 0px ${marginValue} 0px`, // í•˜ë‹¨ ì—¬ë°±ì„ ë””ë°”ì´ìŠ¤ë³„ë¡œ ë‹¤ë¥´ê²Œ ì ìš©
                threshold: 0.0
            };
            
            console.log(`ğŸš€ [Lazy Load] rootMargin optimized for ${marginValue} based on device detection.`);

            /*
             * [Observer ì½œë°±]
             * - entry.isIntersecting === true ì´ê³ , í•´ë‹¹ ìš”ì†Œ IDê°€ Lazy ëŒ€ìƒì¼ ë•Œ,
             * - googletag.display(slotId)
             * - googletag.pubads().refresh([slotToRefresh])
             * ìˆœì„œë¡œ í˜¸ì¶œí•˜ì—¬ ì‹¤ì œ ê´‘ê³  ìš”ì²­/ë Œë”ë§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
             * - ì²˜ë¦¬ í›„ observerInstance.unobserve(entry.target)ìœ¼ë¡œ ë” ì´ìƒ ê´€ì°°í•˜ì§€ ì•Šë„ë¡ í•´,
             * í•œ ìŠ¬ë¡¯ë‹¹ í•œ ë²ˆë§Œ Lazy ë¡œë“œê°€ ì¼ì–´ë‚˜ë„ë¡ í•©ë‹ˆë‹¤.
             */
            lazyObserver = new IntersectionObserver(function(entries, observerInstance) {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;

                    const slotId = entry.target.id;

                    if (window.googletag && googletag.cmd) {
                        googletag.cmd.push(function() {
                            // LAZY_AD_SLOT_IDS ë‚´ì˜ ì–´ë–¤ ìŠ¬ë¡¯ì´ë“  ê³µí†µ ì²˜ë¦¬
                            const slotToRefresh = lazyGamSlots.find(
                                s => s.getSlotElementId() === slotId
                            );

                            if (slotToRefresh) {
                                // disableInitialLoad() í™˜ê²½ì´ë¯€ë¡œ display + refresh íŒ¨í„´ ì ìš©
                                googletag.display(slotId);
                                googletag.pubads().refresh([slotToRefresh]);
                                console.log(`âœ… [Lazy Load] ${slotId} DISPLAY + REFRESH (margin: ${marginValue})`);
                            }
                        });
                    }

                    observerInstance.unobserve(entry.target);
                });
            }, options);
        }

        // ==========================================================
        // í•¨ìˆ˜ 2. Lazy Load ëŒ€ìƒ ìŠ¬ë¡¯ ê´€ì°° ì‹œì‘
        // ==========================================================
        function startObservingLazySlots() {
            /*
             * - setupLazyLoading()ì—ì„œ ìƒì„±í•œ lazyObserverì™€ lazyAdSlotsHTMLì„ ì‚¬ìš©í•˜ì—¬
             * ì‹¤ì œ DOM ìš”ì†Œë¥¼ ê´€ì°°í•˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤.
             * - HOME/VIEW/SECTION/LIST GPT ëª¨ë‘ ë™ì¼ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´,
             * í–¥í›„ ê³µí†µ ìœ í‹¸ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ê¸°ì— ìˆ˜ì›”í•´ì§‘ë‹ˆë‹¤.
             */
            if (!lazyObserver || !lazyAdSlotsHTML || lazyAdSlotsHTML.length === 0) return;
            lazyAdSlotsHTML.forEach(slot => {
                lazyObserver.observe(slot);
            });
        }

        // ==========================================================
        // DOMContentLoaded ì‹œì ì— Lazy Load ì¸í”„ë¼ ì‹¤í–‰
        // ==========================================================
        document.addEventListener('DOMContentLoaded', function() {
            /*
             * [DOMContentLoaded ì‚¬ìš© ì´ìœ ]
             * - ì´ ì‹œì ì—ëŠ” HTML êµ¬ì¡°ì™€ ê´‘ê³  ìŠ¬ë¡¯ DIVê°€ ëª¨ë‘ ë Œë”ë§ëœ ìƒíƒœì´ë¯€ë¡œ,
             * - Lazy ëŒ€ìƒ ìŠ¬ë¡¯ ìˆ˜ì§‘
             * - GAM ìŠ¬ë¡¯ ë§¤í•‘
             * - IntersectionObserver ì´ˆê¸°í™”/ë“±ë¡
             * ì„ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
             * - Section GPTì—ì„œëŠ” in-article ê´‘ê³  ì¬ë°°ì¹˜ê°€ ì—†ê³ , Lazy ëŒ€ìƒ ìŠ¬ë¡¯ë§Œ ê´€ë¦¬í•©ë‹ˆë‹¤.
             * View GPTì—ì„œëŠ” ì´ íƒ€ì´ë°ì— in-article ë™ì  ì£¼ì…ê¹Œì§€ í•¨ê»˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.
             */
            setupLazyLoading(); Â  Â  Â  Â // Lazy ëŒ€ìƒ ìˆ˜ì§‘ + GAM ìŠ¬ë¡¯ ë§¤í•‘ + Observer ìƒì„±
            startObservingLazySlots(); // ì‹¤ì œ ê´€ì°° ì‹œì‘
        });

        // â€» addAdLabel ë° GAM ê¸°ë³¸ ì„¤ì •ì€ <head> ì˜ì—­ì—ì„œ ì „ì—­ 1íšŒ ë“±ë¡
    </script>
</body>
</html>